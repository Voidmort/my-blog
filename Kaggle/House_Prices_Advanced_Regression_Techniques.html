<!DOCTYPE html>
<html lang="zh" dir="ltr"><head><title>House Prices Advanced Regression Techniques</title><meta charset="utf-8"/><link rel="preconnect" href="https://fonts.googleapis.com"/><link rel="preconnect" href="https://fonts.gstatic.com"/><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Schibsted Grotesk:wght@400;700&amp;family=Source Sans Pro:ital,wght@0,400;0,600;1,400;1,600&amp;family=IBM Plex Mono:wght@400;600&amp;display=swap"/><link rel="preconnect" href="https://cdnjs.cloudflare.com" crossorigin="anonymous"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta name="og:site_name" content="我的博客"/><meta property="og:title" content="House Prices Advanced Regression Techniques"/><meta property="og:type" content="website"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:title" content="House Prices Advanced Regression Techniques"/><meta name="twitter:description" content="Kaggle Competition 的练习 房价预测 # 数据分析库 import pandas as pd import numpy as np import random # 数据可视化 import seaborn as sns import matplotlib.pyplot as plt # 机器学习库 from sklearn.preprocessing import OneHotEncoder from sklearn.linear_model import LogisticRegression from sklearn.svm import SVC, LinearSVC fr..."/><meta property="og:description" content="Kaggle Competition 的练习 房价预测 # 数据分析库 import pandas as pd import numpy as np import random # 数据可视化 import seaborn as sns import matplotlib.pyplot as plt # 机器学习库 from sklearn.preprocessing import OneHotEncoder from sklearn.linear_model import LogisticRegression from sklearn.svm import SVC, LinearSVC fr..."/><meta property="og:image:alt" content="Kaggle Competition 的练习 房价预测 # 数据分析库 import pandas as pd import numpy as np import random # 数据可视化 import seaborn as sns import matplotlib.pyplot as plt # 机器学习库 from sklearn.preprocessing import OneHotEncoder from sklearn.linear_model import LogisticRegression from sklearn.svm import SVC, LinearSVC fr..."/><meta property="twitter:domain" content="blog.38324.cn"/><meta property="og:url" content="https://blog.38324.cn/Kaggle/House_Prices_Advanced_Regression_Techniques"/><meta property="twitter:url" content="https://blog.38324.cn/Kaggle/House_Prices_Advanced_Regression_Techniques"/><link rel="icon" href="../static/icon.png"/><meta name="description" content="Kaggle Competition 的练习 房价预测 # 数据分析库 import pandas as pd import numpy as np import random # 数据可视化 import seaborn as sns import matplotlib.pyplot as plt # 机器学习库 from sklearn.preprocessing import OneHotEncoder from sklearn.linear_model import LogisticRegression from sklearn.svm import SVC, LinearSVC fr..."/><meta name="generator" content="Quartz"/><link href="../index.css" rel="stylesheet" type="text/css" spa-preserve/><style>.expand-button {
  position: absolute;
  display: flex;
  float: right;
  padding: 0.4rem;
  margin: 0.3rem;
  right: 0;
  color: var(--gray);
  border-color: var(--dark);
  background-color: var(--light);
  border: 1px solid;
  border-radius: 5px;
  opacity: 0;
  transition: 0.2s;
}
.expand-button > svg {
  fill: var(--light);
  filter: contrast(0.3);
}
.expand-button:hover {
  cursor: pointer;
  border-color: var(--secondary);
}
.expand-button:focus {
  outline: 0;
}

pre:hover > .expand-button {
  opacity: 1;
  transition: 0.2s;
}

#mermaid-container {
  position: fixed;
  contain: layout;
  z-index: 999;
  left: 0;
  top: 0;
  width: 100vw;
  height: 100vh;
  overflow: hidden;
  display: none;
  backdrop-filter: blur(4px);
  background: rgba(0, 0, 0, 0.5);
}
#mermaid-container.active {
  display: inline-block;
}
#mermaid-container > #mermaid-space {
  border: 1px solid var(--lightgray);
  background-color: var(--light);
  border-radius: 5px;
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  height: 80vh;
  width: 80vw;
  overflow: hidden;
}
#mermaid-container > #mermaid-space > .mermaid-content {
  padding: 2rem;
  position: relative;
  transform-origin: 0 0;
  transition: transform 0.1s ease;
  overflow: visible;
  min-height: 200px;
  min-width: 200px;
}
#mermaid-container > #mermaid-space > .mermaid-content pre {
  margin: 0;
  border: none;
}
#mermaid-container > #mermaid-space > .mermaid-content svg {
  max-width: none;
  height: auto;
}
#mermaid-container > #mermaid-space > .mermaid-controls {
  position: absolute;
  bottom: 20px;
  right: 20px;
  display: flex;
  gap: 8px;
  padding: 8px;
  background: var(--light);
  border: 1px solid var(--lightgray);
  border-radius: 6px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  z-index: 2;
}
#mermaid-container > #mermaid-space > .mermaid-controls .mermaid-control-button {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 32px;
  height: 32px;
  padding: 0;
  border: 1px solid var(--lightgray);
  background: var(--light);
  color: var(--dark);
  border-radius: 4px;
  cursor: pointer;
  font-size: 16px;
  font-family: var(--bodyFont);
  transition: all 0.2s ease;
}
#mermaid-container > #mermaid-space > .mermaid-controls .mermaid-control-button:hover {
  background: var(--lightgray);
}
#mermaid-container > #mermaid-space > .mermaid-controls .mermaid-control-button:active {
  transform: translateY(1px);
}
#mermaid-container > #mermaid-space > .mermaid-controls .mermaid-control-button:nth-child(2) {
  width: auto;
  padding: 0 12px;
  font-size: 14px;
}
/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VSb290IjoiL2FwcC9xdWFydHovY29tcG9uZW50cy9zdHlsZXMiLCJzb3VyY2VzIjpbIm1lcm1haWQuaW5saW5lLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTs7QUFFQTtFQUNFO0VBQ0E7O0FBR0Y7RUFDRTtFQUNBOztBQUdGO0VBQ0U7OztBQUtGO0VBQ0U7RUFDQTs7O0FBSUo7RUFDRTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBOztBQUVBO0VBQ0U7O0FBR0Y7RUFDRTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTs7QUFFQTtFQUNFO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBOztBQUVBO0VBQ0U7RUFDQTs7QUFHRjtFQUNFO0VBQ0E7O0FBSUo7RUFDRTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBOztBQUVBO0VBQ0U7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTs7QUFFQTtFQUNFOztBQUdGO0VBQ0U7O0FBSUY7RUFDRTtFQUNBO0VBQ0EiLCJzb3VyY2VzQ29udGVudCI6WyIuZXhwYW5kLWJ1dHRvbiB7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgZGlzcGxheTogZmxleDtcbiAgZmxvYXQ6IHJpZ2h0O1xuICBwYWRkaW5nOiAwLjRyZW07XG4gIG1hcmdpbjogMC4zcmVtO1xuICByaWdodDogMDsgLy8gTk9URTogcmlnaHQgd2lsbCBiZSBzZXQgaW4gbWVybWFpZC5pbmxpbmUudHNcbiAgY29sb3I6IHZhcigtLWdyYXkpO1xuICBib3JkZXItY29sb3I6IHZhcigtLWRhcmspO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1saWdodCk7XG4gIGJvcmRlcjogMXB4IHNvbGlkO1xuICBib3JkZXItcmFkaXVzOiA1cHg7XG4gIG9wYWNpdHk6IDA7XG4gIHRyYW5zaXRpb246IDAuMnM7XG5cbiAgJiA+IHN2ZyB7XG4gICAgZmlsbDogdmFyKC0tbGlnaHQpO1xuICAgIGZpbHRlcjogY29udHJhc3QoMC4zKTtcbiAgfVxuXG4gICY6aG92ZXIge1xuICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICBib3JkZXItY29sb3I6IHZhcigtLXNlY29uZGFyeSk7XG4gIH1cblxuICAmOmZvY3VzIHtcbiAgICBvdXRsaW5lOiAwO1xuICB9XG59XG5cbnByZSB7XG4gICY6aG92ZXIgPiAuZXhwYW5kLWJ1dHRvbiB7XG4gICAgb3BhY2l0eTogMTtcbiAgICB0cmFuc2l0aW9uOiAwLjJzO1xuICB9XG59XG5cbiNtZXJtYWlkLWNvbnRhaW5lciB7XG4gIHBvc2l0aW9uOiBmaXhlZDtcbiAgY29udGFpbjogbGF5b3V0O1xuICB6LWluZGV4OiA5OTk7XG4gIGxlZnQ6IDA7XG4gIHRvcDogMDtcbiAgd2lkdGg6IDEwMHZ3O1xuICBoZWlnaHQ6IDEwMHZoO1xuICBvdmVyZmxvdzogaGlkZGVuO1xuICBkaXNwbGF5OiBub25lO1xuICBiYWNrZHJvcC1maWx0ZXI6IGJsdXIoNHB4KTtcbiAgYmFja2dyb3VuZDogcmdiYSgwLCAwLCAwLCAwLjUpO1xuXG4gICYuYWN0aXZlIHtcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gIH1cblxuICAmID4gI21lcm1haWQtc3BhY2Uge1xuICAgIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWxpZ2h0Z3JheSk7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tbGlnaHQpO1xuICAgIGJvcmRlci1yYWRpdXM6IDVweDtcbiAgICBwb3NpdGlvbjogZml4ZWQ7XG4gICAgdG9wOiA1MCU7XG4gICAgbGVmdDogNTAlO1xuICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsIC01MCUpO1xuICAgIGhlaWdodDogODB2aDtcbiAgICB3aWR0aDogODB2dztcbiAgICBvdmVyZmxvdzogaGlkZGVuO1xuXG4gICAgJiA+IC5tZXJtYWlkLWNvbnRlbnQge1xuICAgICAgcGFkZGluZzogMnJlbTtcbiAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICAgIHRyYW5zZm9ybS1vcmlnaW46IDAgMDtcbiAgICAgIHRyYW5zaXRpb246IHRyYW5zZm9ybSAwLjFzIGVhc2U7XG4gICAgICBvdmVyZmxvdzogdmlzaWJsZTtcbiAgICAgIG1pbi1oZWlnaHQ6IDIwMHB4O1xuICAgICAgbWluLXdpZHRoOiAyMDBweDtcblxuICAgICAgcHJlIHtcbiAgICAgICAgbWFyZ2luOiAwO1xuICAgICAgICBib3JkZXI6IG5vbmU7XG4gICAgICB9XG5cbiAgICAgIHN2ZyB7XG4gICAgICAgIG1heC13aWR0aDogbm9uZTtcbiAgICAgICAgaGVpZ2h0OiBhdXRvO1xuICAgICAgfVxuICAgIH1cblxuICAgICYgPiAubWVybWFpZC1jb250cm9scyB7XG4gICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICBib3R0b206IDIwcHg7XG4gICAgICByaWdodDogMjBweDtcbiAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICBnYXA6IDhweDtcbiAgICAgIHBhZGRpbmc6IDhweDtcbiAgICAgIGJhY2tncm91bmQ6IHZhcigtLWxpZ2h0KTtcbiAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWxpZ2h0Z3JheSk7XG4gICAgICBib3JkZXItcmFkaXVzOiA2cHg7XG4gICAgICBib3gtc2hhZG93OiAwIDJweCA0cHggcmdiYSgwLCAwLCAwLCAwLjEpO1xuICAgICAgei1pbmRleDogMjtcblxuICAgICAgLm1lcm1haWQtY29udHJvbC1idXR0b24ge1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICAgICAgd2lkdGg6IDMycHg7XG4gICAgICAgIGhlaWdodDogMzJweDtcbiAgICAgICAgcGFkZGluZzogMDtcbiAgICAgICAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tbGlnaHRncmF5KTtcbiAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tbGlnaHQpO1xuICAgICAgICBjb2xvcjogdmFyKC0tZGFyayk7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDRweDtcbiAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgICAgICBmb250LXNpemU6IDE2cHg7XG4gICAgICAgIGZvbnQtZmFtaWx5OiB2YXIoLS1ib2R5Rm9udCk7XG4gICAgICAgIHRyYW5zaXRpb246IGFsbCAwLjJzIGVhc2U7XG5cbiAgICAgICAgJjpob3ZlciB7XG4gICAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tbGlnaHRncmF5KTtcbiAgICAgICAgfVxuXG4gICAgICAgICY6YWN0aXZlIHtcbiAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoMXB4KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFN0eWxlIHRoZSByZXNldCBidXR0b24gZGlmZmVyZW50bHlcbiAgICAgICAgJjpudGgtY2hpbGQoMikge1xuICAgICAgICAgIHdpZHRoOiBhdXRvO1xuICAgICAgICAgIHBhZGRpbmc6IDAgMTJweDtcbiAgICAgICAgICBmb250LXNpemU6IDE0cHg7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbiJdfQ== */</style><link href="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.css" rel="stylesheet" type="text/css" spa-preserve/><script src="../prescript.js" type="application/javascript" spa-preserve></script><script type="application/javascript" spa-preserve>const fetchData = fetch("../static/contentIndex.json").then(data => data.json())</script><link rel="alternate" type="application/rss+xml" title="RSS Feed" href="https://blog.38324.cn/index.xml"/><meta property="og:image:width" content="1200"/><meta property="og:image:height" content="630"/><meta property="og:image" content="https://blog.38324.cn/Kaggle/House_Prices_Advanced_Regression_Techniques-og-image.webp"/><meta property="og:image:url" content="https://blog.38324.cn/Kaggle/House_Prices_Advanced_Regression_Techniques-og-image.webp"/><meta name="twitter:image" content="https://blog.38324.cn/Kaggle/House_Prices_Advanced_Regression_Techniques-og-image.webp"/><meta property="og:image:type" content="image/.webp"/></head><body data-slug="Kaggle/House_Prices_Advanced_Regression_Techniques"><div id="quartz-root" class="page"><div id="quartz-body"><div class="left sidebar"><h2 class="page-title"><a href="..">我的博客</a></h2><div class="spacer mobile-only"></div><div class="flex-component" style="flex-direction: row; flex-wrap: nowrap; gap: 1rem;"><div style="flex-grow: 1; flex-shrink: 1; flex-basis: auto; order: 0; align-self: center; justify-self: center;"><div class="search"><button class="search-button"><svg role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 19.9 19.7"><title>Search</title><g class="search-path" fill="none"><path stroke-linecap="square" d="M18.5 18.3l-5.4-5.4"></path><circle cx="8" cy="8" r="7"></circle></g></svg><p>搜索</p></button><div class="search-container"><div class="search-space"><input autocomplete="off" class="search-bar" name="search" type="text" aria-label="搜索些什么" placeholder="搜索些什么"/><div class="search-layout" data-preview="true"></div></div></div></div></div><div style="flex-grow: 0; flex-shrink: 1; flex-basis: auto; order: 0; align-self: center; justify-self: center;"><button class="darkmode"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" class="dayIcon" x="0px" y="0px" viewBox="0 0 35 35" style="enable-background:new 0 0 35 35" xml:space="preserve" aria-label="暗色模式"><title>暗色模式</title><path d="M6,17.5C6,16.672,5.328,16,4.5,16h-3C0.672,16,0,16.672,0,17.5    S0.672,19,1.5,19h3C5.328,19,6,18.328,6,17.5z M7.5,26c-0.414,0-0.789,0.168-1.061,0.439l-2,2C4.168,28.711,4,29.086,4,29.5    C4,30.328,4.671,31,5.5,31c0.414,0,0.789-0.168,1.06-0.44l2-2C8.832,28.289,9,27.914,9,27.5C9,26.672,8.329,26,7.5,26z M17.5,6    C18.329,6,19,5.328,19,4.5v-3C19,0.672,18.329,0,17.5,0S16,0.672,16,1.5v3C16,5.328,16.671,6,17.5,6z M27.5,9    c0.414,0,0.789-0.168,1.06-0.439l2-2C30.832,6.289,31,5.914,31,5.5C31,4.672,30.329,4,29.5,4c-0.414,0-0.789,0.168-1.061,0.44    l-2,2C26.168,6.711,26,7.086,26,7.5C26,8.328,26.671,9,27.5,9z M6.439,8.561C6.711,8.832,7.086,9,7.5,9C8.328,9,9,8.328,9,7.5    c0-0.414-0.168-0.789-0.439-1.061l-2-2C6.289,4.168,5.914,4,5.5,4C4.672,4,4,4.672,4,5.5c0,0.414,0.168,0.789,0.439,1.06    L6.439,8.561z M33.5,16h-3c-0.828,0-1.5,0.672-1.5,1.5s0.672,1.5,1.5,1.5h3c0.828,0,1.5-0.672,1.5-1.5S34.328,16,33.5,16z     M28.561,26.439C28.289,26.168,27.914,26,27.5,26c-0.828,0-1.5,0.672-1.5,1.5c0,0.414,0.168,0.789,0.439,1.06l2,2    C28.711,30.832,29.086,31,29.5,31c0.828,0,1.5-0.672,1.5-1.5c0-0.414-0.168-0.789-0.439-1.061L28.561,26.439z M17.5,29    c-0.829,0-1.5,0.672-1.5,1.5v3c0,0.828,0.671,1.5,1.5,1.5s1.5-0.672,1.5-1.5v-3C19,29.672,18.329,29,17.5,29z M17.5,7    C11.71,7,7,11.71,7,17.5S11.71,28,17.5,28S28,23.29,28,17.5S23.29,7,17.5,7z M17.5,25c-4.136,0-7.5-3.364-7.5-7.5    c0-4.136,3.364-7.5,7.5-7.5c4.136,0,7.5,3.364,7.5,7.5C25,21.636,21.636,25,17.5,25z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" class="nightIcon" x="0px" y="0px" viewBox="0 0 100 100" style="enable-background:new 0 0 100 100" xml:space="preserve" aria-label="亮色模式"><title>亮色模式</title><path d="M96.76,66.458c-0.853-0.852-2.15-1.064-3.23-0.534c-6.063,2.991-12.858,4.571-19.655,4.571  C62.022,70.495,50.88,65.88,42.5,57.5C29.043,44.043,25.658,23.536,34.076,6.47c0.532-1.08,0.318-2.379-0.534-3.23  c-0.851-0.852-2.15-1.064-3.23-0.534c-4.918,2.427-9.375,5.619-13.246,9.491c-9.447,9.447-14.65,22.008-14.65,35.369  c0,13.36,5.203,25.921,14.65,35.368s22.008,14.65,35.368,14.65c13.361,0,25.921-5.203,35.369-14.65  c3.872-3.871,7.064-8.328,9.491-13.246C97.826,68.608,97.611,67.309,96.76,66.458z"></path></svg></button></div><div style="flex-grow: 0; flex-shrink: 1; flex-basis: auto; order: 0; align-self: center; justify-self: center;"><button class="readermode"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" class="readerIcon" fill="currentColor" stroke="currentColor" stroke-width="0.2" stroke-linecap="round" stroke-linejoin="round" width="64px" height="64px" viewBox="0 0 24 24" aria-label="阅读模式"><title>阅读模式</title><g transform="translate(-1.8, -1.8) scale(1.15, 1.2)"><path d="M8.9891247,2.5 C10.1384702,2.5 11.2209868,2.96705384 12.0049645,3.76669482 C12.7883914,2.96705384 13.8709081,2.5 15.0202536,2.5 L18.7549359,2.5 C19.1691495,2.5 19.5049359,2.83578644 19.5049359,3.25 L19.5046891,4.004 L21.2546891,4.00457396 C21.6343849,4.00457396 21.9481801,4.28672784 21.9978425,4.6528034 L22.0046891,4.75457396 L22.0046891,20.25 C22.0046891,20.6296958 21.7225353,20.943491 21.3564597,20.9931534 L21.2546891,21 L2.75468914,21 C2.37499337,21 2.06119817,20.7178461 2.01153575,20.3517706 L2.00468914,20.25 L2.00468914,4.75457396 C2.00468914,4.37487819 2.28684302,4.061083 2.65291858,4.01142057 L2.75468914,4.00457396 L4.50368914,4.004 L4.50444233,3.25 C4.50444233,2.87030423 4.78659621,2.55650904 5.15267177,2.50684662 L5.25444233,2.5 L8.9891247,2.5 Z M4.50368914,5.504 L3.50468914,5.504 L3.50468914,19.5 L10.9478955,19.4998273 C10.4513189,18.9207296 9.73864328,18.5588115 8.96709342,18.5065584 L8.77307039,18.5 L5.25444233,18.5 C4.87474657,18.5 4.56095137,18.2178461 4.51128895,17.8517706 L4.50444233,17.75 L4.50368914,5.504 Z M19.5049359,17.75 C19.5049359,18.1642136 19.1691495,18.5 18.7549359,18.5 L15.2363079,18.5 C14.3910149,18.5 13.5994408,18.8724714 13.0614828,19.4998273 L20.5046891,19.5 L20.5046891,5.504 L19.5046891,5.504 L19.5049359,17.75 Z M18.0059359,3.999 L15.0202536,4 L14.8259077,4.00692283 C13.9889509,4.06666544 13.2254227,4.50975805 12.7549359,5.212 L12.7549359,17.777 L12.7782651,17.7601316 C13.4923805,17.2719483 14.3447024,17 15.2363079,17 L18.0059359,16.999 L18.0056891,4.798 L18.0033792,4.75457396 L18.0056891,4.71 L18.0059359,3.999 Z M8.9891247,4 L6.00368914,3.999 L6.00599909,4.75457396 L6.00599909,4.75457396 L6.00368914,4.783 L6.00368914,16.999 L8.77307039,17 C9.57551536,17 10.3461406,17.2202781 11.0128313,17.6202194 L11.2536891,17.776 L11.2536891,5.211 C10.8200889,4.56369974 10.1361548,4.13636104 9.37521067,4.02745763 L9.18347055,4.00692283 L8.9891247,4 Z"></path></g></svg></button></div></div><div class="explorer" data-behavior="link" data-collapsed="collapsed" data-savestate="true" data-data-fns="{&quot;order&quot;:[&quot;filter&quot;,&quot;map&quot;,&quot;sort&quot;],&quot;sortFn&quot;:&quot;(a,b)=>!a.isFolder&amp;&amp;!b.isFolder||a.isFolder&amp;&amp;b.isFolder?a.displayName.localeCompare(b.displayName,void 0,{numeric:!0,sensitivity:\&quot;base\&quot;}):!a.isFolder&amp;&amp;b.isFolder?1:-1&quot;,&quot;filterFn&quot;:&quot;node=>node.slugSegment!==\&quot;tags\&quot;&quot;,&quot;mapFn&quot;:&quot;node=>node&quot;}"><button type="button" class="explorer-toggle mobile-explorer hide-until-loaded" data-mobile="true" aria-controls="explorer-5"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide-menu"><line x1="4" x2="20" y1="12" y2="12"></line><line x1="4" x2="20" y1="6" y2="6"></line><line x1="4" x2="20" y1="18" y2="18"></line></svg></button><button type="button" class="title-button explorer-toggle desktop-explorer" data-mobile="false" aria-expanded="true"><h2>探索</h2><svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="fold"><polyline points="6 9 12 15 18 9"></polyline></svg></button><div id="explorer-5" class="explorer-content" aria-expanded="false" role="group"><ul class="explorer-ul overflow" id="list-0"><li class="overflow-end"></li></ul></div><template id="template-file"><li><a href="#"></a></li></template><template id="template-folder"><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div><button class="folder-button"><span class="folder-title"></span></button></div></div><div class="folder-outer"><ul class="content"></ul></div></li></template></div></div><div class="center"><div class="page-header"><div class="popover-hint"><nav class="breadcrumb-container" aria-label="breadcrumbs"><div class="breadcrumb-element"><a href="../">Home</a><p> ❯ </p></div><div class="breadcrumb-element"><a href="../Kaggle/">Kaggle</a><p> ❯ </p></div><div class="breadcrumb-element"><a href>House Prices Advanced Regression Techniques</a></div></nav><h1 class="article-title">House Prices Advanced Regression Techniques</h1><p show-comma="true" class="content-meta"><time datetime="2019-05-28T00:00:00.000Z">2019年5月28日</time><span>39分钟阅读</span></p><ul class="tags"><li><a href="../tags/Kaggle" class="internal tag-link">Kaggle</a></li></ul></div></div><article class="popover-hint"><p>Kaggle Competition 的练习</p>
<p><a href="https://www.kaggle.com/c/house-prices-advanced-regression-techniques" class="external">房价预测<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a></p>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="python" data-theme="github-light github-dark"><code data-language="python" data-theme="github-light github-dark" style="display:grid;"><span data-line><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 数据分析库</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> pandas </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">as</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> pd</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> numpy </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">as</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> np</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> random</span></span>
<span data-line> </span>
<span data-line><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 数据可视化</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> seaborn </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">as</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> sns</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> matplotlib.pyplot </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">as</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> plt</span></span>
<span data-line> </span>
<span data-line><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 机器学习库</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> sklearn.preprocessing </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> OneHotEncoder</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> sklearn.linear_model </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> LogisticRegression</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> sklearn.svm </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> SVC</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, LinearSVC</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> sklearn.ensemble </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> RandomForestClassifier</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> sklearn.neighbors </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> KNeighborsClassifier</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> sklearn.naive_bayes </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> GaussianNB</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> sklearn.linear_model </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Perceptron</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> sklearn.linear_model </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> SGDClassifier</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> sklearn.tree </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> DecisionTreeClassifier</span></span>
<span data-line> </span>
<span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">pd.options.display.max_rows </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 10</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # 最大显示行数</span></span>
<span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">pd.options.display.float_format </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> '</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">{</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:.5f</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">}</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.format  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 精确度 保留一位小数</span></span></code></pre></figure>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="python" data-theme="github-light github-dark"><code data-language="python" data-theme="github-light github-dark" style="display:grid;"><span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">train_df </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> pd.read_csv(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">'/train.csv'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">test_df </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> pd.read_csv(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">'/test.csv'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">train_df.shape, test_df.shape</span></span></code></pre></figure>
<pre><code>((1460, 81), (1459, 80))
</code></pre>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="python" data-theme="github-light github-dark"><code data-language="python" data-theme="github-light github-dark" style="display:grid;"><span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">train_df.head()</span></span></code></pre></figure>
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }
.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}
</style>

<div class="table-container"><table border="1" class="dataframe"><thead><tr style="text-align:right;"><th></th><th>Id</th><th>MSSubClass</th><th>MSZoning</th><th>LotFrontage</th><th>LotArea</th><th>Street</th><th>Alley</th><th>LotShape</th><th>LandContour</th><th>Utilities</th><th>LotConfig</th><th>LandSlope</th><th>Neighborhood</th><th>Condition1</th><th>Condition2</th><th>BldgType</th><th>HouseStyle</th><th>OverallQual</th><th>OverallCond</th><th>YearBuilt</th><th>YearRemodAdd</th><th>RoofStyle</th><th>RoofMatl</th><th>Exterior1st</th><th>Exterior2nd</th><th>MasVnrType</th><th>MasVnrArea</th><th>ExterQual</th><th>ExterCond</th><th>Foundation</th><th>BsmtQual</th><th>BsmtCond</th><th>BsmtExposure</th><th>BsmtFinType1</th><th>BsmtFinSF1</th><th>BsmtFinType2</th><th>BsmtFinSF2</th><th>BsmtUnfSF</th><th>TotalBsmtSF</th><th>Heating</th><th>...</th><th>CentralAir</th><th>Electrical</th><th>1stFlrSF</th><th>2ndFlrSF</th><th>LowQualFinSF</th><th>GrLivArea</th><th>BsmtFullBath</th><th>BsmtHalfBath</th><th>FullBath</th><th>HalfBath</th><th>BedroomAbvGr</th><th>KitchenAbvGr</th><th>KitchenQual</th><th>TotRmsAbvGrd</th><th>Functional</th><th>Fireplaces</th><th>FireplaceQu</th><th>GarageType</th><th>GarageYrBlt</th><th>GarageFinish</th><th>GarageCars</th><th>GarageArea</th><th>GarageQual</th><th>GarageCond</th><th>PavedDrive</th><th>WoodDeckSF</th><th>OpenPorchSF</th><th>EnclosedPorch</th><th>3SsnPorch</th><th>ScreenPorch</th><th>PoolArea</th><th>PoolQC</th><th>Fence</th><th>MiscFeature</th><th>MiscVal</th><th>MoSold</th><th>YrSold</th><th>SaleType</th><th>SaleCondition</th><th>SalePrice</th></tr></thead><tbody><tr><th>0</th><td>1</td><td>60</td><td>RL</td><td>65.00000</td><td>8450</td><td>Pave</td><td>NaN</td><td>Reg</td><td>Lvl</td><td>AllPub</td><td>Inside</td><td>Gtl</td><td>CollgCr</td><td>Norm</td><td>Norm</td><td>1Fam</td><td>2Story</td><td>7</td><td>5</td><td>2003</td><td>2003</td><td>Gable</td><td>CompShg</td><td>VinylSd</td><td>VinylSd</td><td>BrkFace</td><td>196.00000</td><td>Gd</td><td>TA</td><td>PConc</td><td>Gd</td><td>TA</td><td>No</td><td>GLQ</td><td>706</td><td>Unf</td><td>0</td><td>150</td><td>856</td><td>GasA</td><td>...</td><td>Y</td><td>SBrkr</td><td>856</td><td>854</td><td>0</td><td>1710</td><td>1</td><td>0</td><td>2</td><td>1</td><td>3</td><td>1</td><td>Gd</td><td>8</td><td>Typ</td><td>0</td><td>NaN</td><td>Attchd</td><td>2003.00000</td><td>RFn</td><td>2</td><td>548</td><td>TA</td><td>TA</td><td>Y</td><td>0</td><td>61</td><td>0</td><td>0</td><td>0</td><td>0</td><td>NaN</td><td>NaN</td><td>NaN</td><td>0</td><td>2</td><td>2008</td><td>WD</td><td>Normal</td><td>208500</td></tr><tr><th>1</th><td>2</td><td>20</td><td>RL</td><td>80.00000</td><td>9600</td><td>Pave</td><td>NaN</td><td>Reg</td><td>Lvl</td><td>AllPub</td><td>FR2</td><td>Gtl</td><td>Veenker</td><td>Feedr</td><td>Norm</td><td>1Fam</td><td>1Story</td><td>6</td><td>8</td><td>1976</td><td>1976</td><td>Gable</td><td>CompShg</td><td>MetalSd</td><td>MetalSd</td><td>None</td><td>0.00000</td><td>TA</td><td>TA</td><td>CBlock</td><td>Gd</td><td>TA</td><td>Gd</td><td>ALQ</td><td>978</td><td>Unf</td><td>0</td><td>284</td><td>1262</td><td>GasA</td><td>...</td><td>Y</td><td>SBrkr</td><td>1262</td><td>0</td><td>0</td><td>1262</td><td>0</td><td>1</td><td>2</td><td>0</td><td>3</td><td>1</td><td>TA</td><td>6</td><td>Typ</td><td>1</td><td>TA</td><td>Attchd</td><td>1976.00000</td><td>RFn</td><td>2</td><td>460</td><td>TA</td><td>TA</td><td>Y</td><td>298</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>NaN</td><td>NaN</td><td>NaN</td><td>0</td><td>5</td><td>2007</td><td>WD</td><td>Normal</td><td>181500</td></tr><tr><th>2</th><td>3</td><td>60</td><td>RL</td><td>68.00000</td><td>11250</td><td>Pave</td><td>NaN</td><td>IR1</td><td>Lvl</td><td>AllPub</td><td>Inside</td><td>Gtl</td><td>CollgCr</td><td>Norm</td><td>Norm</td><td>1Fam</td><td>2Story</td><td>7</td><td>5</td><td>2001</td><td>2002</td><td>Gable</td><td>CompShg</td><td>VinylSd</td><td>VinylSd</td><td>BrkFace</td><td>162.00000</td><td>Gd</td><td>TA</td><td>PConc</td><td>Gd</td><td>TA</td><td>Mn</td><td>GLQ</td><td>486</td><td>Unf</td><td>0</td><td>434</td><td>920</td><td>GasA</td><td>...</td><td>Y</td><td>SBrkr</td><td>920</td><td>866</td><td>0</td><td>1786</td><td>1</td><td>0</td><td>2</td><td>1</td><td>3</td><td>1</td><td>Gd</td><td>6</td><td>Typ</td><td>1</td><td>TA</td><td>Attchd</td><td>2001.00000</td><td>RFn</td><td>2</td><td>608</td><td>TA</td><td>TA</td><td>Y</td><td>0</td><td>42</td><td>0</td><td>0</td><td>0</td><td>0</td><td>NaN</td><td>NaN</td><td>NaN</td><td>0</td><td>9</td><td>2008</td><td>WD</td><td>Normal</td><td>223500</td></tr><tr><th>3</th><td>4</td><td>70</td><td>RL</td><td>60.00000</td><td>9550</td><td>Pave</td><td>NaN</td><td>IR1</td><td>Lvl</td><td>AllPub</td><td>Corner</td><td>Gtl</td><td>Crawfor</td><td>Norm</td><td>Norm</td><td>1Fam</td><td>2Story</td><td>7</td><td>5</td><td>1915</td><td>1970</td><td>Gable</td><td>CompShg</td><td>Wd Sdng</td><td>Wd Shng</td><td>None</td><td>0.00000</td><td>TA</td><td>TA</td><td>BrkTil</td><td>TA</td><td>Gd</td><td>No</td><td>ALQ</td><td>216</td><td>Unf</td><td>0</td><td>540</td><td>756</td><td>GasA</td><td>...</td><td>Y</td><td>SBrkr</td><td>961</td><td>756</td><td>0</td><td>1717</td><td>1</td><td>0</td><td>1</td><td>0</td><td>3</td><td>1</td><td>Gd</td><td>7</td><td>Typ</td><td>1</td><td>Gd</td><td>Detchd</td><td>1998.00000</td><td>Unf</td><td>3</td><td>642</td><td>TA</td><td>TA</td><td>Y</td><td>0</td><td>35</td><td>272</td><td>0</td><td>0</td><td>0</td><td>NaN</td><td>NaN</td><td>NaN</td><td>0</td><td>2</td><td>2006</td><td>WD</td><td>Abnorml</td><td>140000</td></tr><tr><th>4</th><td>5</td><td>60</td><td>RL</td><td>84.00000</td><td>14260</td><td>Pave</td><td>NaN</td><td>IR1</td><td>Lvl</td><td>AllPub</td><td>FR2</td><td>Gtl</td><td>NoRidge</td><td>Norm</td><td>Norm</td><td>1Fam</td><td>2Story</td><td>8</td><td>5</td><td>2000</td><td>2000</td><td>Gable</td><td>CompShg</td><td>VinylSd</td><td>VinylSd</td><td>BrkFace</td><td>350.00000</td><td>Gd</td><td>TA</td><td>PConc</td><td>Gd</td><td>TA</td><td>Av</td><td>GLQ</td><td>655</td><td>Unf</td><td>0</td><td>490</td><td>1145</td><td>GasA</td><td>...</td><td>Y</td><td>SBrkr</td><td>1145</td><td>1053</td><td>0</td><td>2198</td><td>1</td><td>0</td><td>2</td><td>1</td><td>4</td><td>1</td><td>Gd</td><td>9</td><td>Typ</td><td>1</td><td>TA</td><td>Attchd</td><td>2000.00000</td><td>RFn</td><td>3</td><td>836</td><td>TA</td><td>TA</td><td>Y</td><td>192</td><td>84</td><td>0</td><td>0</td><td>0</td><td>0</td><td>NaN</td><td>NaN</td><td>NaN</td><td>0</td><td>12</td><td>2008</td><td>WD</td><td>Normal</td><td>250000</td></tr></tbody></table></div>
<p>5 rows × 81 columns</p>
</div>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="python" data-theme="github-light github-dark"><code data-language="python" data-theme="github-light github-dark" style="display:grid;"><span data-line><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># test_df.head()</span></span></code></pre></figure>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="python" data-theme="github-light github-dark"><code data-language="python" data-theme="github-light github-dark" style="display:grid;"><span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">train_df.describe()</span></span></code></pre></figure>
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }
.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}
</style>

<div class="table-container"><table border="1" class="dataframe"><thead><tr style="text-align:right;"><th></th><th>Id</th><th>MSSubClass</th><th>LotFrontage</th><th>LotArea</th><th>OverallQual</th><th>OverallCond</th><th>YearBuilt</th><th>YearRemodAdd</th><th>MasVnrArea</th><th>BsmtFinSF1</th><th>BsmtFinSF2</th><th>BsmtUnfSF</th><th>TotalBsmtSF</th><th>1stFlrSF</th><th>2ndFlrSF</th><th>LowQualFinSF</th><th>GrLivArea</th><th>BsmtFullBath</th><th>BsmtHalfBath</th><th>FullBath</th><th>HalfBath</th><th>BedroomAbvGr</th><th>KitchenAbvGr</th><th>TotRmsAbvGrd</th><th>Fireplaces</th><th>GarageYrBlt</th><th>GarageCars</th><th>GarageArea</th><th>WoodDeckSF</th><th>OpenPorchSF</th><th>EnclosedPorch</th><th>3SsnPorch</th><th>ScreenPorch</th><th>PoolArea</th><th>MiscVal</th><th>MoSold</th><th>YrSold</th><th>SalePrice</th></tr></thead><tbody><tr><th>count</th><td>1460.00000</td><td>1460.00000</td><td>1201.00000</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td><td>1452.00000</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td><td>1379.00000</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td></tr><tr><th>mean</th><td>730.50000</td><td>56.89726</td><td>70.04996</td><td>10516.82808</td><td>6.09932</td><td>5.57534</td><td>1971.26781</td><td>1984.86575</td><td>103.68526</td><td>443.63973</td><td>46.54932</td><td>567.24041</td><td>1057.42945</td><td>1162.62671</td><td>346.99247</td><td>5.84452</td><td>1515.46370</td><td>0.42534</td><td>0.05753</td><td>1.56507</td><td>0.38288</td><td>2.86644</td><td>1.04658</td><td>6.51781</td><td>0.61301</td><td>1978.50616</td><td>1.76712</td><td>472.98014</td><td>94.24452</td><td>46.66027</td><td>21.95411</td><td>3.40959</td><td>15.06096</td><td>2.75890</td><td>43.48904</td><td>6.32192</td><td>2007.81575</td><td>180921.19589</td></tr><tr><th>std</th><td>421.61001</td><td>42.30057</td><td>24.28475</td><td>9981.26493</td><td>1.38300</td><td>1.11280</td><td>30.20290</td><td>20.64541</td><td>181.06621</td><td>456.09809</td><td>161.31927</td><td>441.86696</td><td>438.70532</td><td>386.58774</td><td>436.52844</td><td>48.62308</td><td>525.48038</td><td>0.51891</td><td>0.23875</td><td>0.55092</td><td>0.50289</td><td>0.81578</td><td>0.22034</td><td>1.62539</td><td>0.64467</td><td>24.68972</td><td>0.74732</td><td>213.80484</td><td>125.33879</td><td>66.25603</td><td>61.11915</td><td>29.31733</td><td>55.75742</td><td>40.17731</td><td>496.12302</td><td>2.70363</td><td>1.32810</td><td>79442.50288</td></tr><tr><th>min</th><td>1.00000</td><td>20.00000</td><td>21.00000</td><td>1300.00000</td><td>1.00000</td><td>1.00000</td><td>1872.00000</td><td>1950.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>334.00000</td><td>0.00000</td><td>0.00000</td><td>334.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>2.00000</td><td>0.00000</td><td>1900.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>1.00000</td><td>2006.00000</td><td>34900.00000</td></tr><tr><th>25%</th><td>365.75000</td><td>20.00000</td><td>59.00000</td><td>7553.50000</td><td>5.00000</td><td>5.00000</td><td>1954.00000</td><td>1967.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>223.00000</td><td>795.75000</td><td>882.00000</td><td>0.00000</td><td>0.00000</td><td>1129.50000</td><td>0.00000</td><td>0.00000</td><td>1.00000</td><td>0.00000</td><td>2.00000</td><td>1.00000</td><td>5.00000</td><td>0.00000</td><td>1961.00000</td><td>1.00000</td><td>334.50000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>5.00000</td><td>2007.00000</td><td>129975.00000</td></tr><tr><th>50%</th><td>730.50000</td><td>50.00000</td><td>69.00000</td><td>9478.50000</td><td>6.00000</td><td>5.00000</td><td>1973.00000</td><td>1994.00000</td><td>0.00000</td><td>383.50000</td><td>0.00000</td><td>477.50000</td><td>991.50000</td><td>1087.00000</td><td>0.00000</td><td>0.00000</td><td>1464.00000</td><td>0.00000</td><td>0.00000</td><td>2.00000</td><td>0.00000</td><td>3.00000</td><td>1.00000</td><td>6.00000</td><td>1.00000</td><td>1980.00000</td><td>2.00000</td><td>480.00000</td><td>0.00000</td><td>25.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>6.00000</td><td>2008.00000</td><td>163000.00000</td></tr><tr><th>75%</th><td>1095.25000</td><td>70.00000</td><td>80.00000</td><td>11601.50000</td><td>7.00000</td><td>6.00000</td><td>2000.00000</td><td>2004.00000</td><td>166.00000</td><td>712.25000</td><td>0.00000</td><td>808.00000</td><td>1298.25000</td><td>1391.25000</td><td>728.00000</td><td>0.00000</td><td>1776.75000</td><td>1.00000</td><td>0.00000</td><td>2.00000</td><td>1.00000</td><td>3.00000</td><td>1.00000</td><td>7.00000</td><td>1.00000</td><td>2002.00000</td><td>2.00000</td><td>576.00000</td><td>168.00000</td><td>68.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>8.00000</td><td>2009.00000</td><td>214000.00000</td></tr><tr><th>max</th><td>1460.00000</td><td>190.00000</td><td>313.00000</td><td>215245.00000</td><td>10.00000</td><td>9.00000</td><td>2010.00000</td><td>2010.00000</td><td>1600.00000</td><td>5644.00000</td><td>1474.00000</td><td>2336.00000</td><td>6110.00000</td><td>4692.00000</td><td>2065.00000</td><td>572.00000</td><td>5642.00000</td><td>3.00000</td><td>2.00000</td><td>3.00000</td><td>2.00000</td><td>8.00000</td><td>3.00000</td><td>14.00000</td><td>3.00000</td><td>2010.00000</td><td>4.00000</td><td>1418.00000</td><td>857.00000</td><td>547.00000</td><td>552.00000</td><td>508.00000</td><td>480.00000</td><td>738.00000</td><td>15500.00000</td><td>12.00000</td><td>2010.00000</td><td>755000.00000</td></tr></tbody></table></div>
</div>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="python" data-theme="github-light github-dark"><code data-language="python" data-theme="github-light github-dark" style="display:grid;"><span data-line><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># test_df.describe()</span></span></code></pre></figure>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="python" data-theme="github-light github-dark"><code data-language="python" data-theme="github-light github-dark" style="display:grid;"><span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">train_df.info()</span></span>
<span data-line><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">'_'</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 50</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">test_df.info()</span></span></code></pre></figure>
<pre><code>&lt;class 'pandas.core.frame.DataFrame'>
RangeIndex: 1460 entries, 0 to 1459
Data columns (total 81 columns):
Id               1460 non-null int64
MSSubClass       1460 non-null int64
MSZoning         1460 non-null object
LotFrontage      1201 non-null float64
LotArea          1460 non-null int64
Street           1460 non-null object
Alley            91 non-null object
LotShape         1460 non-null object
LandContour      1460 non-null object
Utilities        1460 non-null object
LotConfig        1460 non-null object
LandSlope        1460 non-null object
Neighborhood     1460 non-null object
Condition1       1460 non-null object
Condition2       1460 non-null object
BldgType         1460 non-null object
HouseStyle       1460 non-null object
OverallQual      1460 non-null int64
OverallCond      1460 non-null int64
YearBuilt        1460 non-null int64
YearRemodAdd     1460 non-null int64
RoofStyle        1460 non-null object
RoofMatl         1460 non-null object
Exterior1st      1460 non-null object
Exterior2nd      1460 non-null object
MasVnrType       1452 non-null object
MasVnrArea       1452 non-null float64
ExterQual        1460 non-null object
ExterCond        1460 non-null object
Foundation       1460 non-null object
BsmtQual         1423 non-null object
BsmtCond         1423 non-null object
BsmtExposure     1422 non-null object
BsmtFinType1     1423 non-null object
BsmtFinSF1       1460 non-null int64
BsmtFinType2     1422 non-null object
BsmtFinSF2       1460 non-null int64
BsmtUnfSF        1460 non-null int64
TotalBsmtSF      1460 non-null int64
Heating          1460 non-null object
HeatingQC        1460 non-null object
CentralAir       1460 non-null object
Electrical       1459 non-null object
1stFlrSF         1460 non-null int64
2ndFlrSF         1460 non-null int64
LowQualFinSF     1460 non-null int64
GrLivArea        1460 non-null int64
BsmtFullBath     1460 non-null int64
BsmtHalfBath     1460 non-null int64
FullBath         1460 non-null int64
HalfBath         1460 non-null int64
BedroomAbvGr     1460 non-null int64
KitchenAbvGr     1460 non-null int64
KitchenQual      1460 non-null object
TotRmsAbvGrd     1460 non-null int64
Functional       1460 non-null object
Fireplaces       1460 non-null int64
FireplaceQu      770 non-null object
GarageType       1379 non-null object
GarageYrBlt      1379 non-null float64
GarageFinish     1379 non-null object
GarageCars       1460 non-null int64
GarageArea       1460 non-null int64
GarageQual       1379 non-null object
GarageCond       1379 non-null object
PavedDrive       1460 non-null object
WoodDeckSF       1460 non-null int64
OpenPorchSF      1460 non-null int64
EnclosedPorch    1460 non-null int64
3SsnPorch        1460 non-null int64
ScreenPorch      1460 non-null int64
PoolArea         1460 non-null int64
PoolQC           7 non-null object
Fence            281 non-null object
MiscFeature      54 non-null object
MiscVal          1460 non-null int64
MoSold           1460 non-null int64
YrSold           1460 non-null int64
SaleType         1460 non-null object
SaleCondition    1460 non-null object
SalePrice        1460 non-null int64
dtypes: float64(3), int64(35), object(43)
memory usage: 924.0+ KB
__________________________________________________
&lt;class 'pandas.core.frame.DataFrame'>
RangeIndex: 1459 entries, 0 to 1458
Data columns (total 80 columns):
Id               1459 non-null int64
MSSubClass       1459 non-null int64
MSZoning         1455 non-null object
LotFrontage      1232 non-null float64
LotArea          1459 non-null int64
Street           1459 non-null object
Alley            107 non-null object
LotShape         1459 non-null object
LandContour      1459 non-null object
Utilities        1457 non-null object
LotConfig        1459 non-null object
LandSlope        1459 non-null object
Neighborhood     1459 non-null object
Condition1       1459 non-null object
Condition2       1459 non-null object
BldgType         1459 non-null object
HouseStyle       1459 non-null object
OverallQual      1459 non-null int64
OverallCond      1459 non-null int64
YearBuilt        1459 non-null int64
YearRemodAdd     1459 non-null int64
RoofStyle        1459 non-null object
RoofMatl         1459 non-null object
Exterior1st      1458 non-null object
Exterior2nd      1458 non-null object
MasVnrType       1443 non-null object
MasVnrArea       1444 non-null float64
ExterQual        1459 non-null object
ExterCond        1459 non-null object
Foundation       1459 non-null object
BsmtQual         1415 non-null object
BsmtCond         1414 non-null object
BsmtExposure     1415 non-null object
BsmtFinType1     1417 non-null object
BsmtFinSF1       1458 non-null float64
BsmtFinType2     1417 non-null object
BsmtFinSF2       1458 non-null float64
BsmtUnfSF        1458 non-null float64
TotalBsmtSF      1458 non-null float64
Heating          1459 non-null object
HeatingQC        1459 non-null object
CentralAir       1459 non-null object
Electrical       1459 non-null object
1stFlrSF         1459 non-null int64
2ndFlrSF         1459 non-null int64
LowQualFinSF     1459 non-null int64
GrLivArea        1459 non-null int64
BsmtFullBath     1457 non-null float64
BsmtHalfBath     1457 non-null float64
FullBath         1459 non-null int64
HalfBath         1459 non-null int64
BedroomAbvGr     1459 non-null int64
KitchenAbvGr     1459 non-null int64
KitchenQual      1458 non-null object
TotRmsAbvGrd     1459 non-null int64
Functional       1457 non-null object
Fireplaces       1459 non-null int64
FireplaceQu      729 non-null object
GarageType       1383 non-null object
GarageYrBlt      1381 non-null float64
GarageFinish     1381 non-null object
GarageCars       1458 non-null float64
GarageArea       1458 non-null float64
GarageQual       1381 non-null object
GarageCond       1381 non-null object
PavedDrive       1459 non-null object
WoodDeckSF       1459 non-null int64
OpenPorchSF      1459 non-null int64
EnclosedPorch    1459 non-null int64
3SsnPorch        1459 non-null int64
ScreenPorch      1459 non-null int64
PoolArea         1459 non-null int64
PoolQC           3 non-null object
Fence            290 non-null object
MiscFeature      51 non-null object
MiscVal          1459 non-null int64
MoSold           1459 non-null int64
YrSold           1459 non-null int64
SaleType         1458 non-null object
SaleCondition    1459 non-null object
dtypes: float64(11), int64(26), object(43)
memory usage: 912.0+ KB
</code></pre>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="python" data-theme="github-light github-dark"><code data-language="python" data-theme="github-light github-dark" style="display:grid;"><span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">train_df.describe(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">include</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;O&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></figure>
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }
.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}
</style>

<div class="table-container"><table border="1" class="dataframe"><thead><tr style="text-align:right;"><th></th><th>MSZoning</th><th>Street</th><th>Alley</th><th>LotShape</th><th>LandContour</th><th>Utilities</th><th>LotConfig</th><th>LandSlope</th><th>Neighborhood</th><th>Condition1</th><th>Condition2</th><th>BldgType</th><th>HouseStyle</th><th>RoofStyle</th><th>RoofMatl</th><th>Exterior1st</th><th>Exterior2nd</th><th>MasVnrType</th><th>ExterQual</th><th>ExterCond</th><th>Foundation</th><th>BsmtQual</th><th>BsmtCond</th><th>BsmtExposure</th><th>BsmtFinType1</th><th>BsmtFinType2</th><th>Heating</th><th>HeatingQC</th><th>CentralAir</th><th>Electrical</th><th>KitchenQual</th><th>Functional</th><th>FireplaceQu</th><th>GarageType</th><th>GarageFinish</th><th>GarageQual</th><th>GarageCond</th><th>PavedDrive</th><th>PoolQC</th><th>Fence</th><th>MiscFeature</th><th>SaleType</th><th>SaleCondition</th></tr></thead><tbody><tr><th>count</th><td>1460</td><td>1460</td><td>91</td><td>1460</td><td>1460</td><td>1460</td><td>1460</td><td>1460</td><td>1460</td><td>1460</td><td>1460</td><td>1460</td><td>1460</td><td>1460</td><td>1460</td><td>1460</td><td>1460</td><td>1452</td><td>1460</td><td>1460</td><td>1460</td><td>1423</td><td>1423</td><td>1422</td><td>1423</td><td>1422</td><td>1460</td><td>1460</td><td>1460</td><td>1459</td><td>1460</td><td>1460</td><td>770</td><td>1379</td><td>1379</td><td>1379</td><td>1379</td><td>1460</td><td>7</td><td>281</td><td>54</td><td>1460</td><td>1460</td></tr><tr><th>unique</th><td>5</td><td>2</td><td>2</td><td>4</td><td>4</td><td>2</td><td>5</td><td>3</td><td>25</td><td>9</td><td>8</td><td>5</td><td>8</td><td>6</td><td>8</td><td>15</td><td>16</td><td>4</td><td>4</td><td>5</td><td>6</td><td>4</td><td>4</td><td>4</td><td>6</td><td>6</td><td>6</td><td>5</td><td>2</td><td>5</td><td>4</td><td>7</td><td>5</td><td>6</td><td>3</td><td>5</td><td>5</td><td>3</td><td>3</td><td>4</td><td>4</td><td>9</td><td>6</td></tr><tr><th>top</th><td>RL</td><td>Pave</td><td>Grvl</td><td>Reg</td><td>Lvl</td><td>AllPub</td><td>Inside</td><td>Gtl</td><td>NAmes</td><td>Norm</td><td>Norm</td><td>1Fam</td><td>1Story</td><td>Gable</td><td>CompShg</td><td>VinylSd</td><td>VinylSd</td><td>None</td><td>TA</td><td>TA</td><td>PConc</td><td>TA</td><td>TA</td><td>No</td><td>Unf</td><td>Unf</td><td>GasA</td><td>Ex</td><td>Y</td><td>SBrkr</td><td>TA</td><td>Typ</td><td>Gd</td><td>Attchd</td><td>Unf</td><td>TA</td><td>TA</td><td>Y</td><td>Gd</td><td>MnPrv</td><td>Shed</td><td>WD</td><td>Normal</td></tr><tr><th>freq</th><td>1151</td><td>1454</td><td>50</td><td>925</td><td>1311</td><td>1459</td><td>1052</td><td>1382</td><td>225</td><td>1260</td><td>1445</td><td>1220</td><td>726</td><td>1141</td><td>1434</td><td>515</td><td>504</td><td>864</td><td>906</td><td>1282</td><td>647</td><td>649</td><td>1311</td><td>953</td><td>430</td><td>1256</td><td>1428</td><td>741</td><td>1365</td><td>1334</td><td>735</td><td>1360</td><td>380</td><td>870</td><td>605</td><td>1311</td><td>1326</td><td>1340</td><td>3</td><td>157</td><td>49</td><td>1267</td><td>1198</td></tr></tbody></table></div>
</div>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="python" data-theme="github-light github-dark"><code data-language="python" data-theme="github-light github-dark" style="display:grid;"><span data-line> </span></code></pre></figure>
<h1 id="分析概要">分析概要<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#分析概要" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h1>




























































<div class="table-container"><table><thead><tr><th style="text-align:center;">Feature</th><th style="text-align:center;">Status</th><th style="text-align:center;">Dispose</th></tr></thead><tbody><tr><td style="text-align:center;">Alley</td><td style="text-align:center;">缺失比较多</td><td style="text-align:center;">删除</td></tr><tr><td style="text-align:center;">PoolQC</td><td style="text-align:center;">只有七家有游泳池并且和 PoolArea 相关</td><td style="text-align:center;">先不填充 删除</td></tr><tr><td style="text-align:center;">Fence</td><td style="text-align:center;">栏杆质量只有20%的有</td><td style="text-align:center;">缺失的填充为没有</td></tr><tr><td style="text-align:center;">MiscFeature</td><td style="text-align:center;">其他项目也只有好少的房子有</td><td style="text-align:center;">先不填充 删除</td></tr><tr><td style="text-align:center;">FireplaceQu</td><td style="text-align:center;">有一半家没有壁炉</td><td style="text-align:center;">填 0</td></tr><tr><td style="text-align:center;">Garagetype</td><td style="text-align:center;">空代表没有</td><td style="text-align:center;">填 0</td></tr><tr><td style="text-align:center;">Garagefinish</td><td style="text-align:center;">空代表没有</td><td style="text-align:center;">填 0</td></tr><tr><td style="text-align:center;">Garagequal</td><td style="text-align:center;">空代表没有</td><td style="text-align:center;">填 0</td></tr><tr><td style="text-align:center;">Garagecond</td><td style="text-align:center;">空代表没有</td><td style="text-align:center;">填 0</td></tr><tr><td style="text-align:center;">LotFrontage</td><td style="text-align:center;">和物业相连的街道有1/3缺失</td><td style="text-align:center;">没想到太好的填充方法 删除</td></tr></tbody></table></div>
<h1 id="整理-description-文件">整理 description 文件<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#整理-description-文件" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h1>
<p>数据描述文件记录了所有特征所代表的含义，其中许多特征是字符串，现在我们要整理为个字典，便于我们查询。</p>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="python" data-theme="github-light github-dark"><code data-language="python" data-theme="github-light github-dark" style="display:grid;"><span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">description_dict </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {}</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">with</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> open</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">'/data_description.txt'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">'r'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">as</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> description:</span></span>
<span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    description_data </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> description.read()</span></span>
<span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    description.close()</span></span>
<span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">description_data </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> description_data.split(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">'</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\n</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></figure>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="python" data-theme="github-light github-dark"><code data-language="python" data-theme="github-light github-dark" style="display:grid;"><span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">in</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> description_data:</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ':'</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> in</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> i:</span></span>
<span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        key </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> i.split(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">':'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        description_dict[key] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> []</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    elif</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> i.split() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">and</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> '       '</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> in</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> i:</span></span>
<span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        value </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> i.split()[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        description_dict[key].append(value)</span></span>
<span data-line> </span>
<span data-line><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(description_dict)</span></span></code></pre></figure>
<pre><code>{'MSSubClass': ['20', '30', '40', '45', '50', '60', '70', '75', '80', '85', '90', '120', '150', '160', '180', '190'], 'MSZoning': ['A', 'C', 'FV', 'I', 'RH', 'RL', 'RP', 'RM'], 'LotFrontage': [], 'LotArea': [], 'Street': ['Grvl', 'Pave'], 'Alley': ['Grvl', 'Pave', 'NA'], 'LotShape': ['Reg', 'IR1', 'IR2', 'IR3'], 'LandContour': ['Lvl', 'Bnk', 'HLS', 'Low'], 'Utilities': ['AllPub', 'NoSewr', 'NoSeWa', 'ELO'], 'LotConfig': ['Inside', 'Corner', 'CulDSac', 'FR2', 'FR3'], 'LandSlope': ['Gtl', 'Mod', 'Sev'], 'Neighborhood': ['Blmngtn', 'Blueste', 'BrDale', 'BrkSide', 'ClearCr', 'CollgCr', 'Crawfor', 'Edwards', 'Gilbert', 'IDOTRR', 'MeadowV', 'Mitchel', 'Names', 'NoRidge', 'NPkVill', 'NridgHt', 'NWAmes', 'OldTown', 'SWISU', 'Sawyer', 'SawyerW', 'Somerst', 'StoneBr', 'Timber', 'Veenker'], 'Condition1': ['Artery', 'Feedr', 'Norm', 'RRNn', 'RRAn', 'PosN', 'PosA', 'RRNe', 'RRAe'], 'Condition2': ['Artery', 'Feedr', 'Norm', 'RRNn', 'RRAn', 'PosN', 'PosA', 'RRNe', 'RRAe'], 'BldgType': ['1Fam', '2FmCon', 'Duplx', 'TwnhsE', 'TwnhsI'], 'HouseStyle': ['1Story'], '       1.5Fin\tOne and one-half story': [], '       1.5Unf\tOne and one-half story': ['2Story'], '       2.5Fin\tTwo and one-half story': [], '       2.5Unf\tTwo and one-half story': ['SFoyer', 'SLvl'], 'OverallQual': ['10', '9', '8', '7', '6', '5', '4', '3', '2', '1'], 'OverallCond': ['10', '9', '8', '7', '6', '5', '4', '3', '2', '1'], 'YearBuilt': [], 'YearRemodAdd': [], 'RoofStyle': ['Flat', 'Gable', 'Gambrel', 'Hip', 'Mansard', 'Shed'], 'RoofMatl': ['ClyTile', 'CompShg', 'Membran', 'Metal', 'Roll', 'Tar&amp;Grv', 'WdShake', 'WdShngl'], 'Exterior1st': ['AsbShng', 'AsphShn', 'BrkComm', 'BrkFace', 'CBlock', 'CemntBd', 'HdBoard', 'ImStucc', 'MetalSd', 'Other', 'Plywood', 'PreCast', 'Stone', 'Stucco', 'VinylSd', 'Wd', 'WdShing'], 'Exterior2nd': ['AsbShng', 'AsphShn', 'BrkComm', 'BrkFace', 'CBlock', 'CemntBd', 'HdBoard', 'ImStucc', 'MetalSd', 'Other', 'Plywood', 'PreCast', 'Stone', 'Stucco', 'VinylSd', 'Wd', 'WdShing'], 'MasVnrType': ['BrkCmn', 'BrkFace', 'CBlock', 'None', 'Stone'], 'MasVnrArea': [], 'ExterQual': ['Ex', 'Gd', 'TA', 'Fa', 'Po'], 'ExterCond': ['Ex', 'Gd', 'TA', 'Fa', 'Po'], 'Foundation': ['BrkTil', 'CBlock', 'PConc', 'Slab', 'Stone', 'Wood'], 'BsmtQual': ['Ex', 'Gd', 'TA', 'Fa', 'Po', 'NA'], 'BsmtCond': ['Ex', 'Gd', 'TA', 'Fa', 'Po', 'NA'], 'BsmtExposure': ['Gd', 'Av', 'Mn', 'No', 'NA'], 'BsmtFinType1': ['GLQ', 'ALQ', 'BLQ', 'Rec', 'LwQ', 'Unf', 'NA'], 'BsmtFinSF1': [], 'BsmtFinType2': ['GLQ', 'ALQ', 'BLQ', 'Rec', 'LwQ', 'Unf', 'NA'], 'BsmtFinSF2': [], 'BsmtUnfSF': [], 'TotalBsmtSF': [], 'Heating': ['Floor', 'GasA', 'GasW', 'Grav', 'OthW', 'Wall'], 'HeatingQC': ['Ex', 'Gd', 'TA', 'Fa', 'Po'], 'CentralAir': ['N', 'Y'], 'Electrical': ['SBrkr', 'FuseA', 'FuseF', 'FuseP', 'Mix'], '1stFlrSF': [], '2ndFlrSF': [], 'LowQualFinSF': [], 'GrLivArea': [], 'BsmtFullBath': [], 'BsmtHalfBath': [], 'FullBath': [], 'HalfBath': [], 'Bedroom': [], 'Kitchen': [], 'KitchenQual': ['Ex', 'Gd', 'TA', 'Fa', 'Po'], 'TotRmsAbvGrd': [], 'Functional': ['Typ', 'Min1', 'Min2', 'Mod', 'Maj1', 'Maj2', 'Sev', 'Sal'], 'Fireplaces': [], 'FireplaceQu': ['Ex', 'Gd', 'TA', 'Fa', 'Po', 'NA'], 'GarageType': ['2Types', 'Attchd', 'Basment', 'BuiltIn', 'CarPort', 'Detchd', 'NA'], 'GarageYrBlt': [], 'GarageFinish': ['Fin', 'RFn', 'Unf', 'NA'], 'GarageCars': [], 'GarageArea': [], 'GarageQual': ['Ex', 'Gd', 'TA', 'Fa', 'Po', 'NA'], 'GarageCond': ['Ex', 'Gd', 'TA', 'Fa', 'Po', 'NA'], 'PavedDrive': ['Y', 'P', 'N'], 'WoodDeckSF': [], 'OpenPorchSF': [], 'EnclosedPorch': [], '3SsnPorch': [], 'ScreenPorch': [], 'PoolArea': [], 'PoolQC': ['Ex', 'Gd', 'TA', 'Fa', 'NA'], 'Fence': ['GdPrv', 'MnPrv', 'GdWo', 'MnWw', 'NA'], 'MiscFeature': ['Elev', 'Gar2', 'Othr', 'Shed', 'TenC', 'NA'], 'MiscVal': [], 'MoSold': [], 'YrSold': [], 'SaleType': ['WD', 'CWD', 'VWD', 'New', 'COD', 'Con', 'ConLw', 'ConLI', 'ConLD', 'Oth'], 'SaleCondition': ['Normal', 'Abnorml', 'AdjLand', 'Alloca', 'Family', 'Partial']}
</code></pre>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="python" data-theme="github-light github-dark"><code data-language="python" data-theme="github-light github-dark" style="display:grid;"><span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">description_dict[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">'FireplaceQu'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span></code></pre></figure>
<pre><code>['Ex', 'Gd', 'TA', 'Fa', 'Po', 'NA']
</code></pre>
<h1 id="预处理">预处理<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#预处理" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h1>
<p>首先先删除一些确实较多和不太好填充的feature。</p>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="python" data-theme="github-light github-dark"><code data-language="python" data-theme="github-light github-dark" style="display:grid;"><span data-line><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 删除</span></span>
<span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">train_df </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> train_df.drop([</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">'Alley'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">'PoolQC'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">'MiscFeature'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">'LotFrontage'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">], </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">axis</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">test_df </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> test_df.drop([</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">'Alley'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">'PoolQC'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">'MiscFeature'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">'LotFrontage'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">], </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">axis</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></figure>
<h2 id="处理-garageyrblt-year-garage-was-built">处理 GarageYrBlt: Year garage was built<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#处理-garageyrblt-year-garage-was-built" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<p>车库的年代，没有填充 0，改为 1900 年开始。</p>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="python" data-theme="github-light github-dark"><code data-language="python" data-theme="github-light github-dark" style="display:grid;"><span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">def</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> preprocess_garage_year</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(dataset):</span></span>
<span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    dataset </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> dataset.fillna(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1900</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    dataset </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1900</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> dataset</span></span>
<span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">train_df[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">'GarageYrBlt'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> preprocess_garage_year(train_df[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">'GarageYrBlt'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">])</span></span>
<span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">test_df[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">'GarageYrBlt'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> preprocess_garage_year(test_df[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">'GarageYrBlt'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">])</span></span></code></pre></figure>
<h2 id="处理-electrical">处理 Electrical<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#处理-electrical" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<p>Electrical: Electrical system</p>
<pre><code>SBrkr    Standard Circuit Breakers &amp; Romex
FuseA    Fuse Box over 60 AMP and all Romex wiring (Average) 
FuseF    60 AMP Fuse Box and mostly Romex wiring (Fair)
FuseP    60 AMP Fuse Box and mostly knob &amp; tube wiring (poor)
Mix  Mixed
</code></pre>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="python" data-theme="github-light github-dark"><code data-language="python" data-theme="github-light github-dark" style="display:grid;"><span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">freq_port </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> train_df.Electrical.dropna().mode()[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 返回出现次数最多的值（众数）</span></span>
<span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">freq_port</span></span></code></pre></figure>
<pre><code>'SBrkr'
</code></pre>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="python" data-theme="github-light github-dark"><code data-language="python" data-theme="github-light github-dark" style="display:grid;"><span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">def</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> preprocess_garage_year</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(dataset):</span></span>
<span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    dataset </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> dataset.fillna(freq_port)</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> dataset</span></span>
<span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">train_df[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">'Electrical'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> preprocess_garage_year(train_df[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">'Electrical'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">])</span></span>
<span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">test_df[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">'Electrical'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> preprocess_garage_year(test_df[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">'Electrical'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">])</span></span></code></pre></figure>
<h2 id="处理-masvnrarea-masonry-veneer-area-in-square-feet">处理 MasVnrArea: Masonry veneer area in square feet<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#处理-masvnrarea-masonry-veneer-area-in-square-feet" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<p>砖石饰面面积:砖石饰面面积(平方英尺)</p>
<p>缺失的不是太多（148），mean 103，众数（75%以上）为 0，还没想到太好的填充，先填个0试试吧。</p>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="python" data-theme="github-light github-dark"><code data-language="python" data-theme="github-light github-dark" style="display:grid;"><span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">train_df.MasVnrArea.describe()</span></span></code></pre></figure>
<pre><code>count   1452.00000
mean     103.68526
std      181.06621
min        0.00000
25%        0.00000
50%        0.00000
75%      166.00000
max     1600.00000
Name: MasVnrArea, dtype: float64
</code></pre>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="python" data-theme="github-light github-dark"><code data-language="python" data-theme="github-light github-dark" style="display:grid;"><span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">def</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> preprocess_masvararea</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(dataset):</span></span>
<span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    dataset </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> dataset.fillna(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> dataset</span></span>
<span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">train_df[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">'MasVnrArea'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> preprocess_masvararea(train_df[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">'MasVnrArea'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">])</span></span>
<span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">test_df[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">'MasVnrArea'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> preprocess_masvararea(test_df[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">'MasVnrArea'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">])</span></span></code></pre></figure>
<h2 id="处理-masvnrtype">处理 MasVnrType<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#处理-masvnrtype" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<p>MasVnrType: Masonry veneer type</p>
<pre><code>BrkCmn   Brick Common
BrkFace  Brick Face
CBlock   Cinder Block
None None
Stone    Stone
</code></pre>
<p>这个值很奇怪，不太明白这是什么，是没有好呢还是 Stone 好呢？</p>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="python" data-theme="github-light github-dark"><code data-language="python" data-theme="github-light github-dark" style="display:grid;"><span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">train_df.MasVnrType.dropna().mode()[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 返回出现次数最多的值（众数）</span></span></code></pre></figure>
<pre><code>'None'
</code></pre>
<p>大多数都没有，那就把缺失值填为没有吧。</p>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="python" data-theme="github-light github-dark"><code data-language="python" data-theme="github-light github-dark" style="display:grid;"><span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">def</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> preprocess_masvnrtype</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(dataset):</span></span>
<span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    dataset </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> dataset.fillna(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">'None'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> dataset</span></span>
<span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">train_df[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">'MasVnrType'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> preprocess_masvnrtype(train_df[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">'MasVnrType'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">])</span></span>
<span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">test_df[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">'MasVnrType'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> preprocess_masvnrtype(test_df[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">'MasVnrType'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">])</span></span></code></pre></figure>
<h2 id="处理其他缺失-feature">处理其他缺失 feature<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#处理其他缺失-feature" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<p>需要填充缺失值和重编码。</p>
<p>根据 data description 把 字符串类型的 feature 重编码。</p>
<p>构造 feature 对应的 map</p>
<p>观察发现以下这些缺失我们可以填充，顺便重编码。</p>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="python" data-theme="github-light github-dark"><code data-language="python" data-theme="github-light github-dark" style="display:grid;"><span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">missing_value </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">'Fence'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span data-line><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    'FireplaceQu'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span data-line><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    'GarageType'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span data-line><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    'GarageFinish'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span data-line><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    'GarageQual'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span data-line><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    'GarageCond'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span data-line><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    'BsmtQual'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span data-line><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    'BsmtCond'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span data-line><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    'BsmtExposure'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span data-line><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    'BsmtFinType1'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span data-line><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    'BsmtFinType2'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,]</span></span></code></pre></figure>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="python" data-theme="github-light github-dark"><code data-language="python" data-theme="github-light github-dark" style="display:grid;"><span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">def</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> generate_map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(map_list, end_index</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">):</span></span>
<span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    d </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {}</span></span>
<span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    j </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> len</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(map_list) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> end_index</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">in</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> map_list:</span></span>
<span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        d[i] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> j</span></span>
<span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        j </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> d</span></span></code></pre></figure>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="python" data-theme="github-light github-dark"><code data-language="python" data-theme="github-light github-dark" style="display:grid;"><span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">missing_map_dict </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {}</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> feature </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">in</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> missing_value:</span></span>
<span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    missing_map_dict[feature] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> generate_map(description_dict[feature])</span></span>
<span data-line> </span>
<span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">missing_map_dict</span></span></code></pre></figure>
<pre><code>{'BsmtCond': {'Ex': 5, 'Fa': 2, 'Gd': 4, 'NA': 0, 'Po': 1, 'TA': 3},
 'BsmtExposure': {'Av': 3, 'Gd': 4, 'Mn': 2, 'NA': 0, 'No': 1},
 'BsmtFinType1': {'ALQ': 5,
  'BLQ': 4,
  'GLQ': 6,
  'LwQ': 2,
  'NA': 0,
  'Rec': 3,
  'Unf': 1},
 'BsmtFinType2': {'ALQ': 5,
  'BLQ': 4,
  'GLQ': 6,
  'LwQ': 2,
  'NA': 0,
  'Rec': 3,
  'Unf': 1},
 'BsmtQual': {'Ex': 5, 'Fa': 2, 'Gd': 4, 'NA': 0, 'Po': 1, 'TA': 3},
 'Fence': {'GdPrv': 4, 'GdWo': 2, 'MnPrv': 3, 'MnWw': 1, 'NA': 0},
 'FireplaceQu': {'Ex': 5, 'Fa': 2, 'Gd': 4, 'NA': 0, 'Po': 1, 'TA': 3},
 'GarageCond': {'Ex': 5, 'Fa': 2, 'Gd': 4, 'NA': 0, 'Po': 1, 'TA': 3},
 'GarageFinish': {'Fin': 3, 'NA': 0, 'RFn': 2, 'Unf': 1},
 'GarageQual': {'Ex': 5, 'Fa': 2, 'Gd': 4, 'NA': 0, 'Po': 1, 'TA': 3},
 'GarageType': {'2Types': 6,
  'Attchd': 5,
  'Basment': 4,
  'BuiltIn': 3,
  'CarPort': 2,
  'Detchd': 1,
  'NA': 0}}
</code></pre>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="python" data-theme="github-light github-dark"><code data-language="python" data-theme="github-light github-dark" style="display:grid;"><span data-line><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 预处理 feature 把 str 转换为序列 </span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">def</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> preprocess_feature_strtoint</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(feature_df, feature_mapping, default</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">):</span></span>
<span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    feature_df </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> feature_df.map(feature_mapping)</span></span>
<span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    feature_df </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> feature_df.fillna(default)</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> feature_df</span></span></code></pre></figure>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="python" data-theme="github-light github-dark"><code data-language="python" data-theme="github-light github-dark" style="display:grid;"><span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">def</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> preprocess_feature</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(dataset):</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> feature </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">in</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> missing_value:</span></span>
<span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        dataset[feature] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> preprocess_feature_strtoint(dataset[feature], missing_map_dict[feature])</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> dataset</span></span></code></pre></figure>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="python" data-theme="github-light github-dark"><code data-language="python" data-theme="github-light github-dark" style="display:grid;"><span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">train_df </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> preprocess_feature(train_df)</span></span>
<span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">test_df </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> preprocess_feature(test_df)</span></span></code></pre></figure>
<p>检查训练集缺失值，已经没有了。</p>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="python" data-theme="github-light github-dark"><code data-language="python" data-theme="github-light github-dark" style="display:grid;"><span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">train_df[train_df.isnull().values</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">==</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">True</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span></code></pre></figure>
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }
.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}
</style>

<div class="table-container"><table border="1" class="dataframe"><thead><tr style="text-align:right;"><th></th><th>Id</th><th>MSSubClass</th><th>MSZoning</th><th>LotArea</th><th>Street</th><th>LotShape</th><th>LandContour</th><th>Utilities</th><th>LotConfig</th><th>LandSlope</th><th>Neighborhood</th><th>Condition1</th><th>Condition2</th><th>BldgType</th><th>HouseStyle</th><th>OverallQual</th><th>OverallCond</th><th>YearBuilt</th><th>YearRemodAdd</th><th>RoofStyle</th><th>RoofMatl</th><th>Exterior1st</th><th>Exterior2nd</th><th>MasVnrType</th><th>MasVnrArea</th><th>ExterQual</th><th>ExterCond</th><th>Foundation</th><th>BsmtQual</th><th>BsmtCond</th><th>BsmtExposure</th><th>BsmtFinType1</th><th>BsmtFinSF1</th><th>BsmtFinType2</th><th>BsmtFinSF2</th><th>BsmtUnfSF</th><th>TotalBsmtSF</th><th>Heating</th><th>HeatingQC</th><th>CentralAir</th><th>Electrical</th><th>1stFlrSF</th><th>2ndFlrSF</th><th>LowQualFinSF</th><th>GrLivArea</th><th>BsmtFullBath</th><th>BsmtHalfBath</th><th>FullBath</th><th>HalfBath</th><th>BedroomAbvGr</th><th>KitchenAbvGr</th><th>KitchenQual</th><th>TotRmsAbvGrd</th><th>Functional</th><th>Fireplaces</th><th>FireplaceQu</th><th>GarageType</th><th>GarageYrBlt</th><th>GarageFinish</th><th>GarageCars</th><th>GarageArea</th><th>GarageQual</th><th>GarageCond</th><th>PavedDrive</th><th>WoodDeckSF</th><th>OpenPorchSF</th><th>EnclosedPorch</th><th>3SsnPorch</th><th>ScreenPorch</th><th>PoolArea</th><th>Fence</th><th>MiscVal</th><th>MoSold</th><th>YrSold</th><th>SaleType</th><th>SaleCondition</th><th>SalePrice</th></tr></thead><tbody></tbody></table></div>
</div>
<h2 id="填充测试集">填充测试集<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#填充测试集" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<p>测试集还有许多缺失，先决定用众数填充。</p>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="python" data-theme="github-light github-dark"><code data-language="python" data-theme="github-light github-dark" style="display:grid;"><span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">test_df[test_df.isnull().values</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">==</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">True</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span></code></pre></figure>
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }
.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}
</style>

<div class="table-container"><table border="1" class="dataframe"><thead><tr style="text-align:right;"><th></th><th>Id</th><th>MSSubClass</th><th>MSZoning</th><th>LotArea</th><th>Street</th><th>LotShape</th><th>LandContour</th><th>Utilities</th><th>LotConfig</th><th>LandSlope</th><th>Neighborhood</th><th>Condition1</th><th>Condition2</th><th>BldgType</th><th>HouseStyle</th><th>OverallQual</th><th>OverallCond</th><th>YearBuilt</th><th>YearRemodAdd</th><th>RoofStyle</th><th>RoofMatl</th><th>Exterior1st</th><th>Exterior2nd</th><th>MasVnrType</th><th>MasVnrArea</th><th>ExterQual</th><th>ExterCond</th><th>Foundation</th><th>BsmtQual</th><th>BsmtCond</th><th>BsmtExposure</th><th>BsmtFinType1</th><th>BsmtFinSF1</th><th>BsmtFinType2</th><th>BsmtFinSF2</th><th>BsmtUnfSF</th><th>TotalBsmtSF</th><th>Heating</th><th>HeatingQC</th><th>CentralAir</th><th>Electrical</th><th>1stFlrSF</th><th>2ndFlrSF</th><th>LowQualFinSF</th><th>GrLivArea</th><th>BsmtFullBath</th><th>BsmtHalfBath</th><th>FullBath</th><th>HalfBath</th><th>BedroomAbvGr</th><th>KitchenAbvGr</th><th>KitchenQual</th><th>TotRmsAbvGrd</th><th>Functional</th><th>Fireplaces</th><th>FireplaceQu</th><th>GarageType</th><th>GarageYrBlt</th><th>GarageFinish</th><th>GarageCars</th><th>GarageArea</th><th>GarageQual</th><th>GarageCond</th><th>PavedDrive</th><th>WoodDeckSF</th><th>OpenPorchSF</th><th>EnclosedPorch</th><th>3SsnPorch</th><th>ScreenPorch</th><th>PoolArea</th><th>Fence</th><th>MiscVal</th><th>MoSold</th><th>YrSold</th><th>SaleType</th><th>SaleCondition</th></tr></thead><tbody><tr><th>95</th><td>1556</td><td>50</td><td>RL</td><td>10632</td><td>Pave</td><td>IR1</td><td>Lvl</td><td>AllPub</td><td>Inside</td><td>Gtl</td><td>ClearCr</td><td>Norm</td><td>Norm</td><td>1Fam</td><td>1.5Fin</td><td>5</td><td>3</td><td>1917</td><td>1950</td><td>Gable</td><td>CompShg</td><td>Wd Sdng</td><td>Wd Sdng</td><td>None</td><td>0.00000</td><td>TA</td><td>TA</td><td>BrkTil</td><td>4.00000</td><td>2.00000</td><td>1.00000</td><td>1.00000</td><td>0.00000</td><td>1.00000</td><td>0.00000</td><td>689.00000</td><td>689.00000</td><td>GasA</td><td>Gd</td><td>N</td><td>SBrkr</td><td>725</td><td>499</td><td>0</td><td>1224</td><td>0.00000</td><td>0.00000</td><td>1</td><td>1</td><td>3</td><td>1</td><td>NaN</td><td>6</td><td>Mod</td><td>0</td><td>0.00000</td><td>1.00000</td><td>17.00000</td><td>1.00000</td><td>1.00000</td><td>180.00000</td><td>2.00000</td><td>2.00000</td><td>N</td><td>0</td><td>0</td><td>248</td><td>0</td><td>0</td><td>0</td><td>0.00000</td><td>0</td><td>1</td><td>2010</td><td>COD</td><td>Normal</td></tr><tr><th>455</th><td>1916</td><td>30</td><td>NaN</td><td>21780</td><td>Grvl</td><td>Reg</td><td>Lvl</td><td>NaN</td><td>Inside</td><td>Gtl</td><td>IDOTRR</td><td>Norm</td><td>Norm</td><td>1Fam</td><td>1Story</td><td>2</td><td>4</td><td>1910</td><td>1950</td><td>Gable</td><td>CompShg</td><td>Wd Sdng</td><td>Wd Sdng</td><td>None</td><td>0.00000</td><td>Fa</td><td>Fa</td><td>CBlock</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>GasA</td><td>TA</td><td>N</td><td>FuseA</td><td>810</td><td>0</td><td>0</td><td>810</td><td>0.00000</td><td>0.00000</td><td>1</td><td>0</td><td>1</td><td>1</td><td>TA</td><td>4</td><td>Min1</td><td>0</td><td>0.00000</td><td>1.00000</td><td>75.00000</td><td>1.00000</td><td>1.00000</td><td>280.00000</td><td>3.00000</td><td>3.00000</td><td>N</td><td>119</td><td>24</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0.00000</td><td>0</td><td>3</td><td>2009</td><td>ConLD</td><td>Normal</td></tr><tr><th>455</th><td>1916</td><td>30</td><td>NaN</td><td>21780</td><td>Grvl</td><td>Reg</td><td>Lvl</td><td>NaN</td><td>Inside</td><td>Gtl</td><td>IDOTRR</td><td>Norm</td><td>Norm</td><td>1Fam</td><td>1Story</td><td>2</td><td>4</td><td>1910</td><td>1950</td><td>Gable</td><td>CompShg</td><td>Wd Sdng</td><td>Wd Sdng</td><td>None</td><td>0.00000</td><td>Fa</td><td>Fa</td><td>CBlock</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>GasA</td><td>TA</td><td>N</td><td>FuseA</td><td>810</td><td>0</td><td>0</td><td>810</td><td>0.00000</td><td>0.00000</td><td>1</td><td>0</td><td>1</td><td>1</td><td>TA</td><td>4</td><td>Min1</td><td>0</td><td>0.00000</td><td>1.00000</td><td>75.00000</td><td>1.00000</td><td>1.00000</td><td>280.00000</td><td>3.00000</td><td>3.00000</td><td>N</td><td>119</td><td>24</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0.00000</td><td>0</td><td>3</td><td>2009</td><td>ConLD</td><td>Normal</td></tr><tr><th>485</th><td>1946</td><td>20</td><td>RL</td><td>31220</td><td>Pave</td><td>IR1</td><td>Bnk</td><td>NaN</td><td>FR2</td><td>Gtl</td><td>Gilbert</td><td>Feedr</td><td>Norm</td><td>1Fam</td><td>1Story</td><td>6</td><td>2</td><td>1952</td><td>1952</td><td>Hip</td><td>CompShg</td><td>BrkFace</td><td>BrkFace</td><td>None</td><td>0.00000</td><td>TA</td><td>TA</td><td>CBlock</td><td>3.00000</td><td>3.00000</td><td>1.00000</td><td>1.00000</td><td>0.00000</td><td>1.00000</td><td>0.00000</td><td>1632.00000</td><td>1632.00000</td><td>GasA</td><td>TA</td><td>Y</td><td>FuseA</td><td>1474</td><td>0</td><td>0</td><td>1474</td><td>0.00000</td><td>0.00000</td><td>1</td><td>0</td><td>3</td><td>1</td><td>TA</td><td>7</td><td>Min2</td><td>2</td><td>4.00000</td><td>5.00000</td><td>52.00000</td><td>1.00000</td><td>2.00000</td><td>495.00000</td><td>3.00000</td><td>3.00000</td><td>Y</td><td>0</td><td>0</td><td>144</td><td>0</td><td>0</td><td>0</td><td>0.00000</td><td>750</td><td>5</td><td>2008</td><td>WD</td><td>Normal</td></tr><tr><th>660</th><td>2121</td><td>20</td><td>RM</td><td>5940</td><td>Pave</td><td>IR1</td><td>Lvl</td><td>AllPub</td><td>FR3</td><td>Gtl</td><td>BrkSide</td><td>Feedr</td><td>Norm</td><td>1Fam</td><td>1Story</td><td>4</td><td>7</td><td>1946</td><td>1950</td><td>Gable</td><td>CompShg</td><td>MetalSd</td><td>CBlock</td><td>None</td><td>0.00000</td><td>TA</td><td>TA</td><td>PConc</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>nan</td><td>0.00000</td><td>nan</td><td>nan</td><td>nan</td><td>GasA</td><td>TA</td><td>Y</td><td>FuseA</td><td>896</td><td>0</td><td>0</td><td>896</td><td>nan</td><td>nan</td><td>1</td><td>0</td><td>2</td><td>1</td><td>TA</td><td>4</td><td>Typ</td><td>0</td><td>0.00000</td><td>1.00000</td><td>46.00000</td><td>1.00000</td><td>1.00000</td><td>280.00000</td><td>3.00000</td><td>3.00000</td><td>Y</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>3.00000</td><td>0</td><td>4</td><td>2008</td><td>ConLD</td><td>Abnorml</td></tr><tr><th>...</th><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td></tr><tr><th>1013</th><td>2474</td><td>50</td><td>RM</td><td>10320</td><td>Pave</td><td>Reg</td><td>Lvl</td><td>AllPub</td><td>Corner</td><td>Gtl</td><td>IDOTRR</td><td>Artery</td><td>Norm</td><td>1Fam</td><td>1.5Fin</td><td>4</td><td>1</td><td>1910</td><td>1950</td><td>Gable</td><td>CompShg</td><td>Wd Sdng</td><td>Wd Sdng</td><td>None</td><td>0.00000</td><td>Fa</td><td>Fa</td><td>CBlock</td><td>3.00000</td><td>2.00000</td><td>1.00000</td><td>1.00000</td><td>0.00000</td><td>1.00000</td><td>0.00000</td><td>771.00000</td><td>771.00000</td><td>GasA</td><td>Fa</td><td>Y</td><td>SBrkr</td><td>866</td><td>504</td><td>114</td><td>1484</td><td>0.00000</td><td>0.00000</td><td>2</td><td>0</td><td>3</td><td>1</td><td>TA</td><td>6</td><td>NaN</td><td>0</td><td>0.00000</td><td>1.00000</td><td>10.00000</td><td>1.00000</td><td>1.00000</td><td>264.00000</td><td>3.00000</td><td>2.00000</td><td>N</td><td>14</td><td>211</td><td>0</td><td>0</td><td>84</td><td>0</td><td>0.00000</td><td>0</td><td>9</td><td>2007</td><td>COD</td><td>Abnorml</td></tr><tr><th>1029</th><td>2490</td><td>20</td><td>RL</td><td>13770</td><td>Pave</td><td>Reg</td><td>Lvl</td><td>AllPub</td><td>Corner</td><td>Gtl</td><td>Sawyer</td><td>Feedr</td><td>Norm</td><td>1Fam</td><td>1Story</td><td>5</td><td>6</td><td>1958</td><td>1998</td><td>Gable</td><td>CompShg</td><td>Plywood</td><td>Plywood</td><td>BrkFace</td><td>340.00000</td><td>TA</td><td>TA</td><td>CBlock</td><td>3.00000</td><td>3.00000</td><td>2.00000</td><td>3.00000</td><td>190.00000</td><td>4.00000</td><td>873.00000</td><td>95.00000</td><td>1158.00000</td><td>GasA</td><td>TA</td><td>Y</td><td>SBrkr</td><td>1176</td><td>0</td><td>0</td><td>1176</td><td>1.00000</td><td>0.00000</td><td>1</td><td>0</td><td>3</td><td>1</td><td>TA</td><td>6</td><td>Typ</td><td>2</td><td>4.00000</td><td>5.00000</td><td>58.00000</td><td>1.00000</td><td>1.00000</td><td>303.00000</td><td>3.00000</td><td>3.00000</td><td>Y</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0.00000</td><td>0</td><td>10</td><td>2007</td><td>NaN</td><td>Normal</td></tr><tr><th>1116</th><td>2577</td><td>70</td><td>RM</td><td>9060</td><td>Pave</td><td>Reg</td><td>Lvl</td><td>AllPub</td><td>Inside</td><td>Gtl</td><td>IDOTRR</td><td>Norm</td><td>Norm</td><td>1Fam</td><td>2Story</td><td>5</td><td>6</td><td>1923</td><td>1999</td><td>Gable</td><td>CompShg</td><td>Wd Sdng</td><td>Plywood</td><td>None</td><td>0.00000</td><td>TA</td><td>TA</td><td>BrkTil</td><td>4.00000</td><td>3.00000</td><td>1.00000</td><td>5.00000</td><td>548.00000</td><td>1.00000</td><td>0.00000</td><td>311.00000</td><td>859.00000</td><td>GasA</td><td>Ex</td><td>Y</td><td>SBrkr</td><td>942</td><td>886</td><td>0</td><td>1828</td><td>0.00000</td><td>0.00000</td><td>2</td><td>0</td><td>3</td><td>1</td><td>Gd</td><td>6</td><td>Typ</td><td>0</td><td>0.00000</td><td>1.00000</td><td>0.00000</td><td>0.00000</td><td>nan</td><td>nan</td><td>0.00000</td><td>0.00000</td><td>Y</td><td>174</td><td>0</td><td>212</td><td>0</td><td>0</td><td>0</td><td>3.00000</td><td>0</td><td>3</td><td>2007</td><td>WD</td><td>Alloca</td></tr><tr><th>1116</th><td>2577</td><td>70</td><td>RM</td><td>9060</td><td>Pave</td><td>Reg</td><td>Lvl</td><td>AllPub</td><td>Inside</td><td>Gtl</td><td>IDOTRR</td><td>Norm</td><td>Norm</td><td>1Fam</td><td>2Story</td><td>5</td><td>6</td><td>1923</td><td>1999</td><td>Gable</td><td>CompShg</td><td>Wd Sdng</td><td>Plywood</td><td>None</td><td>0.00000</td><td>TA</td><td>TA</td><td>BrkTil</td><td>4.00000</td><td>3.00000</td><td>1.00000</td><td>5.00000</td><td>548.00000</td><td>1.00000</td><td>0.00000</td><td>311.00000</td><td>859.00000</td><td>GasA</td><td>Ex</td><td>Y</td><td>SBrkr</td><td>942</td><td>886</td><td>0</td><td>1828</td><td>0.00000</td><td>0.00000</td><td>2</td><td>0</td><td>3</td><td>1</td><td>Gd</td><td>6</td><td>Typ</td><td>0</td><td>0.00000</td><td>1.00000</td><td>0.00000</td><td>0.00000</td><td>nan</td><td>nan</td><td>0.00000</td><td>0.00000</td><td>Y</td><td>174</td><td>0</td><td>212</td><td>0</td><td>0</td><td>0</td><td>3.00000</td><td>0</td><td>3</td><td>2007</td><td>WD</td><td>Alloca</td></tr><tr><th>1444</th><td>2905</td><td>20</td><td>NaN</td><td>31250</td><td>Pave</td><td>Reg</td><td>Lvl</td><td>AllPub</td><td>Inside</td><td>Gtl</td><td>Mitchel</td><td>Artery</td><td>Norm</td><td>1Fam</td><td>1Story</td><td>1</td><td>3</td><td>1951</td><td>1951</td><td>Gable</td><td>CompShg</td><td>CBlock</td><td>VinylSd</td><td>None</td><td>0.00000</td><td>TA</td><td>Fa</td><td>CBlock</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>GasA</td><td>TA</td><td>Y</td><td>FuseA</td><td>1600</td><td>0</td><td>0</td><td>1600</td><td>0.00000</td><td>0.00000</td><td>1</td><td>1</td><td>3</td><td>1</td><td>TA</td><td>6</td><td>Mod</td><td>0</td><td>0.00000</td><td>5.00000</td><td>51.00000</td><td>1.00000</td><td>1.00000</td><td>270.00000</td><td>2.00000</td><td>3.00000</td><td>N</td><td>0</td><td>0</td><td>135</td><td>0</td><td>0</td><td>0</td><td>0.00000</td><td>0</td><td>5</td><td>2006</td><td>WD</td><td>Normal</td></tr></tbody></table></div>
<p>22 rows × 76 columns</p>
</div>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="python" data-theme="github-light github-dark"><code data-language="python" data-theme="github-light github-dark" style="display:grid;"><span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">in</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> test_df.columns.values.tolist():</span></span>
<span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    freq_port </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> test_df[i].dropna().mode()[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 返回出现次数最多的值（众数)</span></span>
<span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    test_df[i] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> test_df[i].fillna(freq_port)</span></span></code></pre></figure>
<h2 id="字符串类型-feature-重编码">字符串类型 feature 重编码<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#字符串类型-feature-重编码" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<p>处理完缺失值后观察下还有那些feature是字符串形式的。</p>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="python" data-theme="github-light github-dark"><code data-language="python" data-theme="github-light github-dark" style="display:grid;"><span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">train_df.describe(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">include</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;O&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></figure>
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }
.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}
</style>

<div class="table-container"><table border="1" class="dataframe"><thead><tr style="text-align:right;"><th></th><th>MSZoning</th><th>Street</th><th>LotShape</th><th>LandContour</th><th>Utilities</th><th>LotConfig</th><th>LandSlope</th><th>Neighborhood</th><th>Condition1</th><th>Condition2</th><th>BldgType</th><th>HouseStyle</th><th>RoofStyle</th><th>RoofMatl</th><th>Exterior1st</th><th>Exterior2nd</th><th>MasVnrType</th><th>ExterQual</th><th>ExterCond</th><th>Foundation</th><th>Heating</th><th>HeatingQC</th><th>CentralAir</th><th>Electrical</th><th>KitchenQual</th><th>Functional</th><th>PavedDrive</th><th>SaleType</th><th>SaleCondition</th></tr></thead><tbody><tr><th>count</th><td>1460</td><td>1460</td><td>1460</td><td>1460</td><td>1460</td><td>1460</td><td>1460</td><td>1460</td><td>1460</td><td>1460</td><td>1460</td><td>1460</td><td>1460</td><td>1460</td><td>1460</td><td>1460</td><td>1460</td><td>1460</td><td>1460</td><td>1460</td><td>1460</td><td>1460</td><td>1460</td><td>1460</td><td>1460</td><td>1460</td><td>1460</td><td>1460</td><td>1460</td></tr><tr><th>unique</th><td>5</td><td>2</td><td>4</td><td>4</td><td>2</td><td>5</td><td>3</td><td>25</td><td>9</td><td>8</td><td>5</td><td>8</td><td>6</td><td>8</td><td>15</td><td>16</td><td>4</td><td>4</td><td>5</td><td>6</td><td>6</td><td>5</td><td>2</td><td>5</td><td>4</td><td>7</td><td>3</td><td>9</td><td>6</td></tr><tr><th>top</th><td>RL</td><td>Pave</td><td>Reg</td><td>Lvl</td><td>AllPub</td><td>Inside</td><td>Gtl</td><td>NAmes</td><td>Norm</td><td>Norm</td><td>1Fam</td><td>1Story</td><td>Gable</td><td>CompShg</td><td>VinylSd</td><td>VinylSd</td><td>None</td><td>TA</td><td>TA</td><td>PConc</td><td>GasA</td><td>Ex</td><td>Y</td><td>SBrkr</td><td>TA</td><td>Typ</td><td>Y</td><td>WD</td><td>Normal</td></tr><tr><th>freq</th><td>1151</td><td>1454</td><td>925</td><td>1311</td><td>1459</td><td>1052</td><td>1382</td><td>225</td><td>1260</td><td>1445</td><td>1220</td><td>726</td><td>1141</td><td>1434</td><td>515</td><td>504</td><td>872</td><td>906</td><td>1282</td><td>647</td><td>1428</td><td>741</td><td>1365</td><td>1335</td><td>735</td><td>1360</td><td>1340</td><td>1267</td><td>1198</td></tr></tbody></table></div>
</div>
<p>目前还有以下的 feature 需要编码</p>
<p>[‘MSZoning’, ‘Street’, ‘LotShape’, ‘LandContour’, ‘Utilities’, ‘LotConfig’, ‘LandSlope’, ‘Neighborhood’, ‘Condition1’, ‘Condition2’, ‘BldgType’, ‘HouseStyle’, ‘RoofStyle’, ‘RoofMatl’, ‘Exterior1st’, ‘Exterior2nd’, ‘MasVnrType’, ‘ExterQual’, ‘ExterCond’, ‘Foundation’, ‘Heating’, ‘HeatingQC’, ‘CentralAir’, ‘Electrical’, ‘KitchenQual’, ‘Functional’, ‘PavedDrive’, ‘SaleType’, ‘SaleCondition’]</p>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="python" data-theme="github-light github-dark"><code data-language="python" data-theme="github-light github-dark" style="display:grid;"><span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">feature </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">'MSZoning'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">'Street'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">'LotShape'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">'LandContour'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">'Utilities'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">'LotConfig'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">'LandSlope'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">'Neighborhood'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">'Condition1'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">'Condition2'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">'BldgType'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">'HouseStyle'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">'RoofStyle'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">'RoofMatl'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">'Exterior1st'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">'Exterior2nd'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">'MasVnrType'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">'ExterQual'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">'ExterCond'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">'Foundation'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">'Heating'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">'HeatingQC'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">'CentralAir'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">'Electrical'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">'KitchenQual'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">'Functional'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">'PavedDrive'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">'SaleType'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">'SaleCondition'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">in</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> feature:</span></span>
<span data-line><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">set</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(train_df[i]))</span></span></code></pre></figure>
<pre><code>{'RL', 'FV', 'C (all)', 'RM', 'RH'}
{'Grvl', 'Pave'}
{'IR2', 'Reg', 'IR3', 'IR1'}
{'Lvl', 'Low', 'HLS', 'Bnk'}
{'AllPub', 'NoSeWa'}
{'CulDSac', 'FR2', 'Corner', 'FR3', 'Inside'}
{'Gtl', 'Mod', 'Sev'}
{'BrDale', 'NoRidge', 'Blmngtn', 'Sawyer', 'NPkVill', 'NridgHt', 'SawyerW', 'Mitchel', 'OldTown', 'NWAmes', 'NAmes', 'Somerst', 'Veenker', 'SWISU', 'CollgCr', 'BrkSide', 'ClearCr', 'IDOTRR', 'Crawfor', 'StoneBr', 'Timber', 'Gilbert', 'Blueste', 'MeadowV', 'Edwards'}
{'Artery', 'PosN', 'PosA', 'Norm', 'RRNn', 'RRAe', 'RRNe', 'Feedr', 'RRAn'}
{'Artery', 'PosN', 'PosA', 'Norm', 'RRNn', 'RRAe', 'Feedr', 'RRAn'}
{'2fmCon', 'Duplex', 'Twnhs', 'TwnhsE', '1Fam'}
{'SFoyer', '1.5Fin', '2Story', '1.5Unf', '2.5Fin', '2.5Unf', '1Story', 'SLvl'}
{'Mansard', 'Shed', 'Gable', 'Flat', 'Gambrel', 'Hip'}
{'Roll', 'Metal', 'ClyTile', 'WdShngl', 'CompShg', 'Tar&amp;Grv', 'Membran', 'WdShake'}
{'BrkFace', 'Plywood', 'MetalSd', 'Stucco', 'WdShing', 'CBlock', 'AsphShn', 'Stone', 'ImStucc', 'CemntBd', 'Wd Sdng', 'VinylSd', 'BrkComm', 'AsbShng', 'HdBoard'}
{'BrkFace', 'Plywood', 'Wd Shng', 'MetalSd', 'CmentBd', 'Stucco', 'Other', 'CBlock', 'AsphShn', 'ImStucc', 'Stone', 'Wd Sdng', 'VinylSd', 'AsbShng', 'Brk Cmn', 'HdBoard'}
{'BrkFace', 'None', 'BrkCmn', 'Stone'}
{'Ex', 'Gd', 'Fa', 'TA'}
{'Fa', 'Gd', 'Po', 'TA', 'Ex'}
{'BrkTil', 'PConc', 'CBlock', 'Stone', 'Slab', 'Wood'}
{'GasA', 'GasW', 'Wall', 'Floor', 'Grav', 'OthW'}
{'Fa', 'Gd', 'Po', 'TA', 'Ex'}
{'Y', 'N'}
{'SBrkr', 'Mix', 'FuseA', 'FuseP', 'FuseF'}
{'Ex', 'Gd', 'Fa', 'TA'}
{'Mod', 'Min1', 'Maj1', 'Min2', 'Maj2', 'Typ', 'Sev'}
{'Y', 'N', 'P'}
{'Con', 'ConLD', 'ConLw', 'CWD', 'WD', 'New', 'ConLI', 'Oth', 'COD'}
{'Abnorml', 'Alloca', 'Normal', 'AdjLand', 'Partial', 'Family'}
</code></pre>
<p>观察到这些 feature 即有优劣等级划分的，也有没有等级的，既然如此，把有等级区分的编码为序列，没有等级的使用独热码。</p>
<p>有等级的：</p>
<pre><code>MSZoning
ExterQual
ExterCond
HeatingQC
KitchenQual
</code></pre>
<p>其余的使用onehot编码。</p>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="python" data-theme="github-light github-dark"><code data-language="python" data-theme="github-light github-dark" style="display:grid;"><span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">order_feature_set </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">'MSZoning'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span data-line><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">'ExterQual'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span data-line><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">'ExterCond'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span data-line><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">'HeatingQC'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span data-line><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">'KitchenQual'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,}</span></span>
<span data-line> </span>
<span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">onehot_feature_set </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> set</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(feature) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> order_feature_set</span></span></code></pre></figure>
<h3 id="order-编码">Order 编码<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#order-编码" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="python" data-theme="github-light github-dark"><code data-language="python" data-theme="github-light github-dark" style="display:grid;"><span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">def</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> preprocess_order_feature</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(dataset):</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">in</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> order_feature_set:</span></span>
<span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        order_map </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> generate_map(description_dict[i], </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        dataset[i] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> dataset[i].map(order_map)</span></span>
<span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        dataset[i] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> dataset[i].fillna(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> dataset</span></span></code></pre></figure>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="python" data-theme="github-light github-dark"><code data-language="python" data-theme="github-light github-dark" style="display:grid;"><span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">train_df </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> preprocess_order_feature(train_df)</span></span>
<span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">test_df </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> preprocess_order_feature(test_df)</span></span></code></pre></figure>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="python" data-theme="github-light github-dark"><code data-language="python" data-theme="github-light github-dark" style="display:grid;"><span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">train_df.describe()</span></span></code></pre></figure>
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }
.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}
</style>

<div class="table-container"><table border="1" class="dataframe"><thead><tr style="text-align:right;"><th></th><th>Id</th><th>MSSubClass</th><th>MSZoning</th><th>LotArea</th><th>OverallQual</th><th>OverallCond</th><th>YearBuilt</th><th>YearRemodAdd</th><th>MasVnrArea</th><th>ExterQual</th><th>ExterCond</th><th>BsmtQual</th><th>BsmtCond</th><th>BsmtExposure</th><th>BsmtFinType1</th><th>BsmtFinSF1</th><th>BsmtFinType2</th><th>BsmtFinSF2</th><th>BsmtUnfSF</th><th>TotalBsmtSF</th><th>HeatingQC</th><th>1stFlrSF</th><th>2ndFlrSF</th><th>LowQualFinSF</th><th>GrLivArea</th><th>BsmtFullBath</th><th>BsmtHalfBath</th><th>FullBath</th><th>HalfBath</th><th>BedroomAbvGr</th><th>KitchenAbvGr</th><th>KitchenQual</th><th>TotRmsAbvGrd</th><th>Fireplaces</th><th>FireplaceQu</th><th>GarageType</th><th>GarageYrBlt</th><th>GarageFinish</th><th>GarageCars</th><th>GarageArea</th><th>GarageQual</th><th>GarageCond</th><th>WoodDeckSF</th><th>OpenPorchSF</th><th>EnclosedPorch</th><th>3SsnPorch</th><th>ScreenPorch</th><th>PoolArea</th><th>Fence</th><th>MiscVal</th><th>MoSold</th><th>YrSold</th><th>SalePrice</th></tr></thead><tbody><tr><th>count</th><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td></tr><tr><th>mean</th><td>730.50000</td><td>56.89726</td><td>2.82534</td><td>10516.82808</td><td>6.09932</td><td>5.57534</td><td>1971.26781</td><td>1984.86575</td><td>103.11712</td><td>3.39589</td><td>3.08356</td><td>3.48904</td><td>2.93493</td><td>1.63014</td><td>3.54589</td><td>443.63973</td><td>1.24726</td><td>46.54932</td><td>567.24041</td><td>1057.42945</td><td>4.14521</td><td>1162.62671</td><td>346.99247</td><td>5.84452</td><td>1515.46370</td><td>0.42534</td><td>0.05753</td><td>1.56507</td><td>0.38288</td><td>2.86644</td><td>1.04658</td><td>3.51164</td><td>6.51781</td><td>0.61301</td><td>1.82534</td><td>3.51438</td><td>74.15068</td><td>1.71575</td><td>1.76712</td><td>472.98014</td><td>2.81027</td><td>2.80890</td><td>94.24452</td><td>46.66027</td><td>21.95411</td><td>3.40959</td><td>15.06096</td><td>2.75890</td><td>0.56575</td><td>43.48904</td><td>6.32192</td><td>2007.81575</td><td>180921.19589</td></tr><tr><th>std</th><td>421.61001</td><td>42.30057</td><td>1.02017</td><td>9981.26493</td><td>1.38300</td><td>1.11280</td><td>30.20290</td><td>20.64541</td><td>180.73137</td><td>0.57428</td><td>0.35105</td><td>0.87648</td><td>0.55216</td><td>1.06739</td><td>2.10778</td><td>456.09809</td><td>0.89233</td><td>161.31927</td><td>441.86696</td><td>438.70532</td><td>0.95950</td><td>386.58774</td><td>436.52844</td><td>48.62308</td><td>525.48038</td><td>0.51891</td><td>0.23875</td><td>0.55092</td><td>0.50289</td><td>0.81578</td><td>0.22034</td><td>0.66376</td><td>1.62539</td><td>0.64467</td><td>1.81088</td><td>1.93321</td><td>29.98205</td><td>0.89283</td><td>0.74732</td><td>213.80484</td><td>0.72290</td><td>0.71969</td><td>125.33879</td><td>66.25603</td><td>61.11915</td><td>29.31733</td><td>55.75742</td><td>40.17731</td><td>1.20448</td><td>496.12302</td><td>2.70363</td><td>1.32810</td><td>79442.50288</td></tr><tr><th>min</th><td>1.00000</td><td>20.00000</td><td>0.00000</td><td>1300.00000</td><td>1.00000</td><td>1.00000</td><td>1872.00000</td><td>1950.00000</td><td>0.00000</td><td>2.00000</td><td>1.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>1.00000</td><td>334.00000</td><td>0.00000</td><td>0.00000</td><td>334.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>2.00000</td><td>2.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>1.00000</td><td>2006.00000</td><td>34900.00000</td></tr><tr><th>25%</th><td>365.75000</td><td>20.00000</td><td>3.00000</td><td>7553.50000</td><td>5.00000</td><td>5.00000</td><td>1954.00000</td><td>1967.00000</td><td>0.00000</td><td>3.00000</td><td>3.00000</td><td>3.00000</td><td>3.00000</td><td>1.00000</td><td>1.00000</td><td>0.00000</td><td>1.00000</td><td>0.00000</td><td>223.00000</td><td>795.75000</td><td>3.00000</td><td>882.00000</td><td>0.00000</td><td>0.00000</td><td>1129.50000</td><td>0.00000</td><td>0.00000</td><td>1.00000</td><td>0.00000</td><td>2.00000</td><td>1.00000</td><td>3.00000</td><td>5.00000</td><td>0.00000</td><td>0.00000</td><td>1.00000</td><td>58.00000</td><td>1.00000</td><td>1.00000</td><td>334.50000</td><td>3.00000</td><td>3.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>5.00000</td><td>2007.00000</td><td>129975.00000</td></tr><tr><th>50%</th><td>730.50000</td><td>50.00000</td><td>3.00000</td><td>9478.50000</td><td>6.00000</td><td>5.00000</td><td>1973.00000</td><td>1994.00000</td><td>0.00000</td><td>3.00000</td><td>3.00000</td><td>4.00000</td><td>3.00000</td><td>1.00000</td><td>4.00000</td><td>383.50000</td><td>1.00000</td><td>0.00000</td><td>477.50000</td><td>991.50000</td><td>5.00000</td><td>1087.00000</td><td>0.00000</td><td>0.00000</td><td>1464.00000</td><td>0.00000</td><td>0.00000</td><td>2.00000</td><td>0.00000</td><td>3.00000</td><td>1.00000</td><td>3.00000</td><td>6.00000</td><td>1.00000</td><td>2.00000</td><td>5.00000</td><td>77.00000</td><td>2.00000</td><td>2.00000</td><td>480.00000</td><td>3.00000</td><td>3.00000</td><td>0.00000</td><td>25.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>6.00000</td><td>2008.00000</td><td>163000.00000</td></tr><tr><th>75%</th><td>1095.25000</td><td>70.00000</td><td>3.00000</td><td>11601.50000</td><td>7.00000</td><td>6.00000</td><td>2000.00000</td><td>2004.00000</td><td>164.25000</td><td>4.00000</td><td>3.00000</td><td>4.00000</td><td>3.00000</td><td>2.00000</td><td>6.00000</td><td>712.25000</td><td>1.00000</td><td>0.00000</td><td>808.00000</td><td>1298.25000</td><td>5.00000</td><td>1391.25000</td><td>728.00000</td><td>0.00000</td><td>1776.75000</td><td>1.00000</td><td>0.00000</td><td>2.00000</td><td>1.00000</td><td>3.00000</td><td>1.00000</td><td>4.00000</td><td>7.00000</td><td>1.00000</td><td>4.00000</td><td>5.00000</td><td>101.00000</td><td>2.00000</td><td>2.00000</td><td>576.00000</td><td>3.00000</td><td>3.00000</td><td>168.00000</td><td>68.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>8.00000</td><td>2009.00000</td><td>214000.00000</td></tr><tr><th>max</th><td>1460.00000</td><td>190.00000</td><td>6.00000</td><td>215245.00000</td><td>10.00000</td><td>9.00000</td><td>2010.00000</td><td>2010.00000</td><td>1600.00000</td><td>5.00000</td><td>5.00000</td><td>5.00000</td><td>4.00000</td><td>4.00000</td><td>6.00000</td><td>5644.00000</td><td>6.00000</td><td>1474.00000</td><td>2336.00000</td><td>6110.00000</td><td>5.00000</td><td>4692.00000</td><td>2065.00000</td><td>572.00000</td><td>5642.00000</td><td>3.00000</td><td>2.00000</td><td>3.00000</td><td>2.00000</td><td>8.00000</td><td>3.00000</td><td>5.00000</td><td>14.00000</td><td>3.00000</td><td>5.00000</td><td>6.00000</td><td>110.00000</td><td>3.00000</td><td>4.00000</td><td>1418.00000</td><td>5.00000</td><td>5.00000</td><td>857.00000</td><td>547.00000</td><td>552.00000</td><td>508.00000</td><td>480.00000</td><td>738.00000</td><td>4.00000</td><td>15500.00000</td><td>12.00000</td><td>2010.00000</td><td>755000.00000</td></tr></tbody></table></div>
</div>
<h3 id="one-hot-编码">One hot 编码<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#one-hot-编码" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="python" data-theme="github-light github-dark"><code data-language="python" data-theme="github-light github-dark" style="display:grid;"><span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">train_df.shape, test_df.shape</span></span></code></pre></figure>
<pre><code>((1460, 77), (1459, 76))
</code></pre>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="python" data-theme="github-light github-dark"><code data-language="python" data-theme="github-light github-dark" style="display:grid;"><span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">def</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> preprocess_onehot_feature</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(dataset):</span></span>
<span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    dataset_len </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> len</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(dataset)</span></span>
<span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    result </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> pd.DataFrame()</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">in</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> onehot_feature_set:</span></span>
<span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        tmp_pd </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> pd.get_dummies(dataset[i], </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">prefix</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">i, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">dtype</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">float</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        result </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> pd.concat([result, tmp_pd], </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">axis</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> result</span></span></code></pre></figure>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="python" data-theme="github-light github-dark"><code data-language="python" data-theme="github-light github-dark" style="display:grid;"><span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">train_onehot_df </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> preprocess_onehot_feature(train_df)</span></span>
<span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">test_onehot_df </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> preprocess_onehot_feature(test_df)</span></span></code></pre></figure>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="python" data-theme="github-light github-dark"><code data-language="python" data-theme="github-light github-dark" style="display:grid;"><span data-line><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(train_onehot_df.shape, test_onehot_df.shape)</span></span>
<span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">test_missing </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> set</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(train_onehot_df.columns.values.tolist()) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> set</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(test_onehot_df.columns.values.tolist())</span></span>
<span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">test_missing</span></span></code></pre></figure>
<pre><code>(1460, 168) (1459, 153)





{'Condition2_RRAe',
 'Condition2_RRAn',
 'Condition2_RRNn',
 'Electrical_Mix',
 'Exterior1st_ImStucc',
 'Exterior1st_Stone',
 'Exterior2nd_Other',
 'Heating_Floor',
 'Heating_OthW',
 'HouseStyle_2.5Fin',
 'RoofMatl_ClyTile',
 'RoofMatl_Membran',
 'RoofMatl_Metal',
 'RoofMatl_Roll',
 'Utilities_NoSeWa'}
</code></pre>
<p>又遇到个坑，测试集比训练集的情况少。</p>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="python" data-theme="github-light github-dark"><code data-language="python" data-theme="github-light github-dark" style="display:grid;"><span data-line><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 生成一个缺失的 dagafarm</span></span>
<span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">test_missing_zeros </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> pd.Series(np.zeros(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1459</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">))</span></span>
<span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">test_missing_fd </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> pd.DataFrame({k: test_missing_zeros </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> k </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">in</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> test_missing} )</span></span>
<span data-line> </span>
<span data-line><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 把缺失的填进去</span></span>
<span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">test_onehot_df </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> pd.concat([test_onehot_df, test_missing_fd], </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">axis</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></figure>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="python" data-theme="github-light github-dark"><code data-language="python" data-theme="github-light github-dark" style="display:grid;"><span data-line><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(train_onehot_df.shape, test_onehot_df.shape)</span></span></code></pre></figure>
<pre><code>(1460, 168) (1459, 168)
</code></pre>
<p>把 新 one hot 编码的 feature 添加到 原集合中，并删除原来的 feature</p>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="python" data-theme="github-light github-dark"><code data-language="python" data-theme="github-light github-dark" style="display:grid;"><span data-line><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 把one hot的feature添加到训练集和测试集</span></span>
<span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">train_df </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> pd.concat([train_df, train_onehot_df], </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">axis</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">test_df </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> pd.concat([test_df, test_onehot_df], </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">axis</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span data-line> </span>
<span data-line><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 同步删除训练集和测试集中的原feature</span></span>
<span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">train_df </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> train_df.drop(onehot_feature_set, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">axis</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">test_df </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> test_df.drop(onehot_feature_set, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">axis</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></figure>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="python" data-theme="github-light github-dark"><code data-language="python" data-theme="github-light github-dark" style="display:grid;"><span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">train_df.describe()</span></span></code></pre></figure>
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }
.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}
</style>

<div class="table-container"><table border="1" class="dataframe"><thead><tr style="text-align:right;"><th></th><th>Id</th><th>MSSubClass</th><th>MSZoning</th><th>LotArea</th><th>OverallQual</th><th>OverallCond</th><th>YearBuilt</th><th>YearRemodAdd</th><th>MasVnrArea</th><th>ExterQual</th><th>ExterCond</th><th>BsmtQual</th><th>BsmtCond</th><th>BsmtExposure</th><th>BsmtFinType1</th><th>BsmtFinSF1</th><th>BsmtFinType2</th><th>BsmtFinSF2</th><th>BsmtUnfSF</th><th>TotalBsmtSF</th><th>HeatingQC</th><th>1stFlrSF</th><th>2ndFlrSF</th><th>LowQualFinSF</th><th>GrLivArea</th><th>BsmtFullBath</th><th>BsmtHalfBath</th><th>FullBath</th><th>HalfBath</th><th>BedroomAbvGr</th><th>KitchenAbvGr</th><th>KitchenQual</th><th>TotRmsAbvGrd</th><th>Fireplaces</th><th>FireplaceQu</th><th>GarageType</th><th>GarageYrBlt</th><th>GarageFinish</th><th>GarageCars</th><th>GarageArea</th><th>...</th><th>Exterior1st_BrkFace</th><th>Exterior1st_CBlock</th><th>Exterior1st_CemntBd</th><th>Exterior1st_HdBoard</th><th>Exterior1st_ImStucc</th><th>Exterior1st_MetalSd</th><th>Exterior1st_Plywood</th><th>Exterior1st_Stone</th><th>Exterior1st_Stucco</th><th>Exterior1st_VinylSd</th><th>Exterior1st_Wd Sdng</th><th>Exterior1st_WdShing</th><th>RoofMatl_ClyTile</th><th>RoofMatl_CompShg</th><th>RoofMatl_Membran</th><th>RoofMatl_Metal</th><th>RoofMatl_Roll</th><th>RoofMatl_Tar&amp;Grv</th><th>RoofMatl_WdShake</th><th>RoofMatl_WdShngl</th><th>Electrical_FuseA</th><th>Electrical_FuseF</th><th>Electrical_FuseP</th><th>Electrical_Mix</th><th>Electrical_SBrkr</th><th>SaleCondition_Abnorml</th><th>SaleCondition_AdjLand</th><th>SaleCondition_Alloca</th><th>SaleCondition_Family</th><th>SaleCondition_Normal</th><th>SaleCondition_Partial</th><th>Condition1_Artery</th><th>Condition1_Feedr</th><th>Condition1_Norm</th><th>Condition1_PosA</th><th>Condition1_PosN</th><th>Condition1_RRAe</th><th>Condition1_RRAn</th><th>Condition1_RRNe</th><th>Condition1_RRNn</th></tr></thead><tbody><tr><th>count</th><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td><td>...</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td><td>1460.00000</td></tr><tr><th>mean</th><td>730.50000</td><td>56.89726</td><td>2.82534</td><td>10516.82808</td><td>6.09932</td><td>5.57534</td><td>1971.26781</td><td>1984.86575</td><td>103.11712</td><td>3.39589</td><td>3.08356</td><td>3.48904</td><td>2.93493</td><td>1.63014</td><td>3.54589</td><td>443.63973</td><td>1.24726</td><td>46.54932</td><td>567.24041</td><td>1057.42945</td><td>4.14521</td><td>1162.62671</td><td>346.99247</td><td>5.84452</td><td>1515.46370</td><td>0.42534</td><td>0.05753</td><td>1.56507</td><td>0.38288</td><td>2.86644</td><td>1.04658</td><td>3.51164</td><td>6.51781</td><td>0.61301</td><td>1.82534</td><td>3.51438</td><td>74.15068</td><td>1.71575</td><td>1.76712</td><td>472.98014</td><td>...</td><td>0.03425</td><td>0.00068</td><td>0.04178</td><td>0.15205</td><td>0.00068</td><td>0.15068</td><td>0.07397</td><td>0.00137</td><td>0.01712</td><td>0.35274</td><td>0.14110</td><td>0.01781</td><td>0.00068</td><td>0.98219</td><td>0.00068</td><td>0.00068</td><td>0.00068</td><td>0.00753</td><td>0.00342</td><td>0.00411</td><td>0.06438</td><td>0.01849</td><td>0.00205</td><td>0.00068</td><td>0.91438</td><td>0.06918</td><td>0.00274</td><td>0.00822</td><td>0.01370</td><td>0.82055</td><td>0.08562</td><td>0.03288</td><td>0.05548</td><td>0.86301</td><td>0.00548</td><td>0.01301</td><td>0.00753</td><td>0.01781</td><td>0.00137</td><td>0.00342</td></tr><tr><th>std</th><td>421.61001</td><td>42.30057</td><td>1.02017</td><td>9981.26493</td><td>1.38300</td><td>1.11280</td><td>30.20290</td><td>20.64541</td><td>180.73137</td><td>0.57428</td><td>0.35105</td><td>0.87648</td><td>0.55216</td><td>1.06739</td><td>2.10778</td><td>456.09809</td><td>0.89233</td><td>161.31927</td><td>441.86696</td><td>438.70532</td><td>0.95950</td><td>386.58774</td><td>436.52844</td><td>48.62308</td><td>525.48038</td><td>0.51891</td><td>0.23875</td><td>0.55092</td><td>0.50289</td><td>0.81578</td><td>0.22034</td><td>0.66376</td><td>1.62539</td><td>0.64467</td><td>1.81088</td><td>1.93321</td><td>29.98205</td><td>0.89283</td><td>0.74732</td><td>213.80484</td><td>...</td><td>0.18192</td><td>0.02617</td><td>0.20016</td><td>0.35920</td><td>0.02617</td><td>0.35786</td><td>0.26182</td><td>0.03700</td><td>0.12978</td><td>0.47799</td><td>0.34824</td><td>0.13230</td><td>0.02617</td><td>0.13230</td><td>0.02617</td><td>0.02617</td><td>0.02617</td><td>0.08650</td><td>0.05844</td><td>0.06400</td><td>0.24552</td><td>0.13477</td><td>0.04530</td><td>0.02617</td><td>0.27989</td><td>0.25384</td><td>0.05229</td><td>0.09032</td><td>0.11628</td><td>0.38386</td><td>0.27989</td><td>0.17837</td><td>0.22899</td><td>0.34395</td><td>0.07385</td><td>0.11337</td><td>0.08650</td><td>0.13230</td><td>0.03700</td><td>0.05844</td></tr><tr><th>min</th><td>1.00000</td><td>20.00000</td><td>0.00000</td><td>1300.00000</td><td>1.00000</td><td>1.00000</td><td>1872.00000</td><td>1950.00000</td><td>0.00000</td><td>2.00000</td><td>1.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>1.00000</td><td>334.00000</td><td>0.00000</td><td>0.00000</td><td>334.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>2.00000</td><td>2.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>...</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td></tr><tr><th>25%</th><td>365.75000</td><td>20.00000</td><td>3.00000</td><td>7553.50000</td><td>5.00000</td><td>5.00000</td><td>1954.00000</td><td>1967.00000</td><td>0.00000</td><td>3.00000</td><td>3.00000</td><td>3.00000</td><td>3.00000</td><td>1.00000</td><td>1.00000</td><td>0.00000</td><td>1.00000</td><td>0.00000</td><td>223.00000</td><td>795.75000</td><td>3.00000</td><td>882.00000</td><td>0.00000</td><td>0.00000</td><td>1129.50000</td><td>0.00000</td><td>0.00000</td><td>1.00000</td><td>0.00000</td><td>2.00000</td><td>1.00000</td><td>3.00000</td><td>5.00000</td><td>0.00000</td><td>0.00000</td><td>1.00000</td><td>58.00000</td><td>1.00000</td><td>1.00000</td><td>334.50000</td><td>...</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>1.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>1.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>1.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>1.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td></tr><tr><th>50%</th><td>730.50000</td><td>50.00000</td><td>3.00000</td><td>9478.50000</td><td>6.00000</td><td>5.00000</td><td>1973.00000</td><td>1994.00000</td><td>0.00000</td><td>3.00000</td><td>3.00000</td><td>4.00000</td><td>3.00000</td><td>1.00000</td><td>4.00000</td><td>383.50000</td><td>1.00000</td><td>0.00000</td><td>477.50000</td><td>991.50000</td><td>5.00000</td><td>1087.00000</td><td>0.00000</td><td>0.00000</td><td>1464.00000</td><td>0.00000</td><td>0.00000</td><td>2.00000</td><td>0.00000</td><td>3.00000</td><td>1.00000</td><td>3.00000</td><td>6.00000</td><td>1.00000</td><td>2.00000</td><td>5.00000</td><td>77.00000</td><td>2.00000</td><td>2.00000</td><td>480.00000</td><td>...</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>1.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>1.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>1.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>1.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td></tr><tr><th>75%</th><td>1095.25000</td><td>70.00000</td><td>3.00000</td><td>11601.50000</td><td>7.00000</td><td>6.00000</td><td>2000.00000</td><td>2004.00000</td><td>164.25000</td><td>4.00000</td><td>3.00000</td><td>4.00000</td><td>3.00000</td><td>2.00000</td><td>6.00000</td><td>712.25000</td><td>1.00000</td><td>0.00000</td><td>808.00000</td><td>1298.25000</td><td>5.00000</td><td>1391.25000</td><td>728.00000</td><td>0.00000</td><td>1776.75000</td><td>1.00000</td><td>0.00000</td><td>2.00000</td><td>1.00000</td><td>3.00000</td><td>1.00000</td><td>4.00000</td><td>7.00000</td><td>1.00000</td><td>4.00000</td><td>5.00000</td><td>101.00000</td><td>2.00000</td><td>2.00000</td><td>576.00000</td><td>...</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>1.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>1.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>1.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>1.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>1.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td></tr><tr><th>max</th><td>1460.00000</td><td>190.00000</td><td>6.00000</td><td>215245.00000</td><td>10.00000</td><td>9.00000</td><td>2010.00000</td><td>2010.00000</td><td>1600.00000</td><td>5.00000</td><td>5.00000</td><td>5.00000</td><td>4.00000</td><td>4.00000</td><td>6.00000</td><td>5644.00000</td><td>6.00000</td><td>1474.00000</td><td>2336.00000</td><td>6110.00000</td><td>5.00000</td><td>4692.00000</td><td>2065.00000</td><td>572.00000</td><td>5642.00000</td><td>3.00000</td><td>2.00000</td><td>3.00000</td><td>2.00000</td><td>8.00000</td><td>3.00000</td><td>5.00000</td><td>14.00000</td><td>3.00000</td><td>5.00000</td><td>6.00000</td><td>110.00000</td><td>3.00000</td><td>4.00000</td><td>1418.00000</td><td>...</td><td>1.00000</td><td>1.00000</td><td>1.00000</td><td>1.00000</td><td>1.00000</td><td>1.00000</td><td>1.00000</td><td>1.00000</td><td>1.00000</td><td>1.00000</td><td>1.00000</td><td>1.00000</td><td>1.00000</td><td>1.00000</td><td>1.00000</td><td>1.00000</td><td>1.00000</td><td>1.00000</td><td>1.00000</td><td>1.00000</td><td>1.00000</td><td>1.00000</td><td>1.00000</td><td>1.00000</td><td>1.00000</td><td>1.00000</td><td>1.00000</td><td>1.00000</td><td>1.00000</td><td>1.00000</td><td>1.00000</td><td>1.00000</td><td>1.00000</td><td>1.00000</td><td>1.00000</td><td>1.00000</td><td>1.00000</td><td>1.00000</td><td>1.00000</td><td>1.00000</td></tr></tbody></table></div>
<p>8 rows × 221 columns</p>
</div>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="python" data-theme="github-light github-dark"><code data-language="python" data-theme="github-light github-dark" style="display:grid;"><span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">train_df.info()</span></span></code></pre></figure>
<pre><code>&lt;class 'pandas.core.frame.DataFrame'>
RangeIndex: 1460 entries, 0 to 1459
Columns: 221 entries, Id to Condition1_RRNn
dtypes: float64(182), int64(39)
memory usage: 2.5 MB
</code></pre>
<p>终于处理完了，已经没有 object 类型的数据了。接下来就能建模了。</p>
<h1 id="模型预测">模型预测<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#模型预测" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h1>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="python" data-theme="github-light github-dark"><code data-language="python" data-theme="github-light github-dark" style="display:grid;"><span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">train_df.sample(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">frac</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">X_train </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> train_df.drop([</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">'SalePrice'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">'Id'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">], </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">axis</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Y_train </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> train_df[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">'SalePrice'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">X_test </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> test_df.drop(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">'Id'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">axis</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">).copy()</span></span>
<span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">X_train.shape, Y_train.shape, X_test.shape</span></span></code></pre></figure>
<pre><code>((1460, 219), (1460,), (1459, 219))
</code></pre>
<p>先用逻辑回归看看</p>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="python" data-theme="github-light github-dark"><code data-language="python" data-theme="github-light github-dark" style="display:grid;"><span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">X_train</span></span></code></pre></figure>
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }
.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}
</style>

<div class="table-container"><table border="1" class="dataframe"><thead><tr style="text-align:right;"><th></th><th>Id</th><th>MSSubClass</th><th>MSZoning</th><th>LotArea</th><th>OverallQual</th><th>OverallCond</th><th>YearBuilt</th><th>YearRemodAdd</th><th>MasVnrArea</th><th>ExterQual</th><th>ExterCond</th><th>BsmtQual</th><th>BsmtCond</th><th>BsmtExposure</th><th>BsmtFinType1</th><th>BsmtFinSF1</th><th>BsmtFinType2</th><th>BsmtFinSF2</th><th>BsmtUnfSF</th><th>TotalBsmtSF</th><th>HeatingQC</th><th>1stFlrSF</th><th>2ndFlrSF</th><th>LowQualFinSF</th><th>GrLivArea</th><th>BsmtFullBath</th><th>BsmtHalfBath</th><th>FullBath</th><th>HalfBath</th><th>BedroomAbvGr</th><th>KitchenAbvGr</th><th>KitchenQual</th><th>TotRmsAbvGrd</th><th>Fireplaces</th><th>FireplaceQu</th><th>GarageType</th><th>GarageYrBlt</th><th>GarageFinish</th><th>GarageCars</th><th>GarageArea</th><th>...</th><th>Exterior1st_BrkFace</th><th>Exterior1st_CBlock</th><th>Exterior1st_CemntBd</th><th>Exterior1st_HdBoard</th><th>Exterior1st_ImStucc</th><th>Exterior1st_MetalSd</th><th>Exterior1st_Plywood</th><th>Exterior1st_Stone</th><th>Exterior1st_Stucco</th><th>Exterior1st_VinylSd</th><th>Exterior1st_Wd Sdng</th><th>Exterior1st_WdShing</th><th>RoofMatl_ClyTile</th><th>RoofMatl_CompShg</th><th>RoofMatl_Membran</th><th>RoofMatl_Metal</th><th>RoofMatl_Roll</th><th>RoofMatl_Tar&amp;Grv</th><th>RoofMatl_WdShake</th><th>RoofMatl_WdShngl</th><th>Electrical_FuseA</th><th>Electrical_FuseF</th><th>Electrical_FuseP</th><th>Electrical_Mix</th><th>Electrical_SBrkr</th><th>SaleCondition_Abnorml</th><th>SaleCondition_AdjLand</th><th>SaleCondition_Alloca</th><th>SaleCondition_Family</th><th>SaleCondition_Normal</th><th>SaleCondition_Partial</th><th>Condition1_Artery</th><th>Condition1_Feedr</th><th>Condition1_Norm</th><th>Condition1_PosA</th><th>Condition1_PosN</th><th>Condition1_RRAe</th><th>Condition1_RRAn</th><th>Condition1_RRNe</th><th>Condition1_RRNn</th></tr></thead><tbody><tr><th>0</th><td>1</td><td>60</td><td>3.00000</td><td>8450</td><td>7</td><td>5</td><td>2003</td><td>2003</td><td>196.00000</td><td>4</td><td>3</td><td>4.00000</td><td>3.00000</td><td>1.00000</td><td>6.00000</td><td>706</td><td>1.00000</td><td>0</td><td>150</td><td>856</td><td>5</td><td>856</td><td>854</td><td>0</td><td>1710</td><td>1</td><td>0</td><td>2</td><td>1</td><td>3</td><td>1</td><td>4</td><td>8</td><td>0</td><td>0.00000</td><td>5.00000</td><td>103.00000</td><td>2.00000</td><td>2</td><td>548</td><td>...</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>1.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>1.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>1.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>1.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>1.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td></tr><tr><th>1</th><td>2</td><td>20</td><td>3.00000</td><td>9600</td><td>6</td><td>8</td><td>1976</td><td>1976</td><td>0.00000</td><td>3</td><td>3</td><td>4.00000</td><td>3.00000</td><td>4.00000</td><td>5.00000</td><td>978</td><td>1.00000</td><td>0</td><td>284</td><td>1262</td><td>5</td><td>1262</td><td>0</td><td>0</td><td>1262</td><td>0</td><td>1</td><td>2</td><td>0</td><td>3</td><td>1</td><td>3</td><td>6</td><td>1</td><td>3.00000</td><td>5.00000</td><td>76.00000</td><td>2.00000</td><td>2</td><td>460</td><td>...</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>1.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>1.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>1.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>1.00000</td><td>0.00000</td><td>0.00000</td><td>1.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td></tr><tr><th>2</th><td>3</td><td>60</td><td>3.00000</td><td>11250</td><td>7</td><td>5</td><td>2001</td><td>2002</td><td>162.00000</td><td>4</td><td>3</td><td>4.00000</td><td>3.00000</td><td>2.00000</td><td>6.00000</td><td>486</td><td>1.00000</td><td>0</td><td>434</td><td>920</td><td>5</td><td>920</td><td>866</td><td>0</td><td>1786</td><td>1</td><td>0</td><td>2</td><td>1</td><td>3</td><td>1</td><td>4</td><td>6</td><td>1</td><td>3.00000</td><td>5.00000</td><td>101.00000</td><td>2.00000</td><td>2</td><td>608</td><td>...</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>1.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>1.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>1.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>1.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>1.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td></tr><tr><th>3</th><td>4</td><td>70</td><td>3.00000</td><td>9550</td><td>7</td><td>5</td><td>1915</td><td>1970</td><td>0.00000</td><td>3</td><td>3</td><td>3.00000</td><td>4.00000</td><td>1.00000</td><td>5.00000</td><td>216</td><td>1.00000</td><td>0</td><td>540</td><td>756</td><td>4</td><td>961</td><td>756</td><td>0</td><td>1717</td><td>1</td><td>0</td><td>1</td><td>0</td><td>3</td><td>1</td><td>4</td><td>7</td><td>1</td><td>4.00000</td><td>1.00000</td><td>98.00000</td><td>1.00000</td><td>3</td><td>642</td><td>...</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>1.00000</td><td>0.00000</td><td>0.00000</td><td>1.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>1.00000</td><td>1.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>1.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td></tr><tr><th>4</th><td>5</td><td>60</td><td>3.00000</td><td>14260</td><td>8</td><td>5</td><td>2000</td><td>2000</td><td>350.00000</td><td>4</td><td>3</td><td>4.00000</td><td>3.00000</td><td>3.00000</td><td>6.00000</td><td>655</td><td>1.00000</td><td>0</td><td>490</td><td>1145</td><td>5</td><td>1145</td><td>1053</td><td>0</td><td>2198</td><td>1</td><td>0</td><td>2</td><td>1</td><td>4</td><td>1</td><td>4</td><td>9</td><td>1</td><td>3.00000</td><td>5.00000</td><td>100.00000</td><td>2.00000</td><td>3</td><td>836</td><td>...</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>1.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>1.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>1.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>1.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>1.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td></tr><tr><th>...</th><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td></tr><tr><th>1455</th><td>1456</td><td>60</td><td>3.00000</td><td>7917</td><td>6</td><td>5</td><td>1999</td><td>2000</td><td>0.00000</td><td>3</td><td>3</td><td>4.00000</td><td>3.00000</td><td>1.00000</td><td>1.00000</td><td>0</td><td>1.00000</td><td>0</td><td>953</td><td>953</td><td>5</td><td>953</td><td>694</td><td>0</td><td>1647</td><td>0</td><td>0</td><td>2</td><td>1</td><td>3</td><td>1</td><td>3</td><td>7</td><td>1</td><td>3.00000</td><td>5.00000</td><td>99.00000</td><td>2.00000</td><td>2</td><td>460</td><td>...</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>1.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>1.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>1.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>1.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>1.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td></tr><tr><th>1456</th><td>1457</td><td>20</td><td>3.00000</td><td>13175</td><td>6</td><td>6</td><td>1978</td><td>1988</td><td>119.00000</td><td>3</td><td>3</td><td>4.00000</td><td>3.00000</td><td>1.00000</td><td>5.00000</td><td>790</td><td>3.00000</td><td>163</td><td>589</td><td>1542</td><td>3</td><td>2073</td><td>0</td><td>0</td><td>2073</td><td>1</td><td>0</td><td>2</td><td>0</td><td>3</td><td>1</td><td>3</td><td>7</td><td>2</td><td>3.00000</td><td>5.00000</td><td>78.00000</td><td>1.00000</td><td>2</td><td>500</td><td>...</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>1.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>1.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>1.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>1.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>1.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td></tr><tr><th>1457</th><td>1458</td><td>70</td><td>3.00000</td><td>9042</td><td>7</td><td>9</td><td>1941</td><td>2006</td><td>0.00000</td><td>5</td><td>4</td><td>3.00000</td><td>4.00000</td><td>1.00000</td><td>6.00000</td><td>275</td><td>1.00000</td><td>0</td><td>877</td><td>1152</td><td>5</td><td>1188</td><td>1152</td><td>0</td><td>2340</td><td>0</td><td>0</td><td>2</td><td>0</td><td>4</td><td>1</td><td>4</td><td>9</td><td>2</td><td>4.00000</td><td>5.00000</td><td>41.00000</td><td>2.00000</td><td>1</td><td>252</td><td>...</td><td>0.00000</td><td>0.00000</td><td>1.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>1.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>1.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>1.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>1.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td></tr><tr><th>1458</th><td>1459</td><td>20</td><td>3.00000</td><td>9717</td><td>5</td><td>6</td><td>1950</td><td>1996</td><td>0.00000</td><td>3</td><td>3</td><td>3.00000</td><td>3.00000</td><td>2.00000</td><td>6.00000</td><td>49</td><td>3.00000</td><td>1029</td><td>0</td><td>1078</td><td>4</td><td>1078</td><td>0</td><td>0</td><td>1078</td><td>1</td><td>0</td><td>1</td><td>0</td><td>2</td><td>1</td><td>4</td><td>5</td><td>0</td><td>0.00000</td><td>5.00000</td><td>50.00000</td><td>1.00000</td><td>1</td><td>240</td><td>...</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>1.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>1.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>1.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>1.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>1.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td></tr><tr><th>1459</th><td>1460</td><td>20</td><td>3.00000</td><td>9937</td><td>5</td><td>6</td><td>1965</td><td>1965</td><td>0.00000</td><td>4</td><td>3</td><td>3.00000</td><td>3.00000</td><td>1.00000</td><td>4.00000</td><td>830</td><td>2.00000</td><td>290</td><td>136</td><td>1256</td><td>4</td><td>1256</td><td>0</td><td>0</td><td>1256</td><td>1</td><td>0</td><td>1</td><td>1</td><td>3</td><td>1</td><td>3</td><td>6</td><td>0</td><td>0.00000</td><td>5.00000</td><td>65.00000</td><td>3.00000</td><td>1</td><td>276</td><td>...</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>1.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>1.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>1.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>1.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>1.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td><td>0.00000</td></tr></tbody></table></div>
<p>1460 rows × 220 columns</p>
</div>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="python" data-theme="github-light github-dark"><code data-language="python" data-theme="github-light github-dark" style="display:grid;"><span data-line><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 逻辑回归</span></span>
<span data-line> </span>
<span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">logreg </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> LogisticRegression()</span></span>
<span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">logreg.fit(X_train, Y_train)</span></span>
<span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Y_pred </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> logreg.predict(X_test)</span></span>
<span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">acc_log </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> round</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(logreg.score(X_train, Y_train) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">acc_log</span></span></code></pre></figure>
<pre><code>/usr/local/lib/python3.6/dist-packages/sklearn/linear_model/logistic.py:432: FutureWarning: Default solver will be changed to 'lbfgs' in 0.22. Specify a solver to silence this warning.
  FutureWarning)
/usr/local/lib/python3.6/dist-packages/sklearn/linear_model/logistic.py:469: FutureWarning: Default multi_class will be changed to 'auto' in 0.22. Specify the multi_class option to silence this warning.
  &quot;this warning.&quot;, FutureWarning)
/usr/local/lib/python3.6/dist-packages/sklearn/svm/base.py:929: ConvergenceWarning: Liblinear failed to converge, increase the number of iterations.
  &quot;the number of iterations.&quot;, ConvergenceWarning)





90.55
</code></pre>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="python" data-theme="github-light github-dark"><code data-language="python" data-theme="github-light github-dark" style="display:grid;"><span data-line><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Random Forest</span></span>
<span data-line> </span>
<span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">random_forest </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> RandomForestClassifier(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">n_estimators</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">random_forest.fit(X_train, Y_train)</span></span>
<span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Y_pred </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> random_forest.predict(X_test)</span></span>
<span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">random_forest.score(X_train, Y_train)</span></span>
<span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">acc_random_forest </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> round</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(random_forest.score(X_train, Y_train) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">acc_random_forest</span></span></code></pre></figure>
<pre><code>100.0
</code></pre>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="python" data-theme="github-light github-dark"><code data-language="python" data-theme="github-light github-dark" style="display:grid;"><span data-line> </span>
<span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">X </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> X_train.loc[: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Y </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Y_train.loc[: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span data-line> </span>
<span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">X_t </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> X_train.loc[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: ]</span></span>
<span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Y_t </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Y_train.loc[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: ]</span></span>
<span data-line> </span>
<span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">logreg </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> RandomForestClassifier(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">n_estimators</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">logreg.fit(X, Y)</span></span>
<span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">pred </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> logreg.predict(X_t)</span></span>
<span data-line> </span></code></pre></figure>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="python" data-theme="github-light github-dark"><code data-language="python" data-theme="github-light github-dark" style="display:grid;"><span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">plt.figure(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">figsize</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">30</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">))</span></span>
<span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">x </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> np.array(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">range</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">len</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(pred)))</span></span>
<span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">plt.scatter(x, pred)</span></span>
<span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">plt.scatter(x, Y_t)</span></span>
<span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">plt.show()</span></span></code></pre></figure>
<p><img src="../Kaggle/House_Prices_Advanced_Regression_Techniques/House_Prices_Advanced_Regression_Techniques_75_0.png" alt="png"/></p>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="python" data-theme="github-light github-dark"><code data-language="python" data-theme="github-light github-dark" style="display:grid;"><span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">plt.figure(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">figsize</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">30</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">))</span></span>
<span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">plt.plot(pred </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Y_t)</span></span>
<span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">plt.show()</span></span>
<span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">np.var(pred </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Y_t)</span></span></code></pre></figure>
<p><img src="../Kaggle/House_Prices_Advanced_Regression_Techniques/House_Prices_Advanced_Regression_Techniques_76_0.png" alt="png"/></p>
<pre><code>2231563230.032489
</code></pre>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="python" data-theme="github-light github-dark"><code data-language="python" data-theme="github-light github-dark" style="display:grid;"><span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">np.array([</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">range</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">len</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(pred))]</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">10</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">).T</span></span></code></pre></figure>
<pre><code>array([[  0,   0,   0, ...,   0,   0,   0],
       [  1,   1,   1, ...,   1,   1,   1],
       [  2,   2,   2, ...,   2,   2,   2],
       ...,
       [457, 457, 457, ..., 457, 457, 457],
       [458, 458, 458, ..., 458, 458, 458],
       [459, 459, 459, ..., 459, 459, 459]])
</code></pre>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="python" data-theme="github-light github-dark"><code data-language="python" data-theme="github-light github-dark" style="display:grid;"><span data-line><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Support Vector Machines</span></span>
<span data-line> </span>
<span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">svm </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> SVC()</span></span>
<span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">svm.fit(X_train, Y_train)</span></span>
<span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Y_pred </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> svm.predict(X_test)</span></span>
<span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">acc_svm </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> round</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(svm.score(X_train, Y_train) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">acc_svm</span></span></code></pre></figure>
<pre><code>/usr/local/lib/python3.6/dist-packages/sklearn/svm/base.py:193: FutureWarning: The default value of gamma will change from 'auto' to 'scale' in version 0.22 to account better for unscaled features. Set gamma explicitly to 'auto' or 'scale' to avoid this warning.
  &quot;avoid this warning.&quot;, FutureWarning)





99.52
</code></pre>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="python" data-theme="github-light github-dark"><code data-language="python" data-theme="github-light github-dark" style="display:grid;"><span data-line><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 保存结果</span></span>
<span data-line> </span>
<span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">submission </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> pd.DataFrame({</span></span>
<span data-line><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;Id&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: test_df[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Id&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>
<span data-line><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;SalePrice&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: Y_pred</span></span>
<span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    })</span></span>
<span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">submission.to_csv(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/submission.csv&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">index</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">False</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span></code></pre></figure></article><hr/><div class="page-footer"></div></div><div class="right sidebar"><div class="graph"><h3>关系图谱</h3><div class="graph-outer"><div class="graph-container" data-cfg="{&quot;drag&quot;:true,&quot;zoom&quot;:true,&quot;depth&quot;:1,&quot;scale&quot;:1.1,&quot;repelForce&quot;:0.5,&quot;centerForce&quot;:0.3,&quot;linkDistance&quot;:30,&quot;fontSize&quot;:0.6,&quot;opacityScale&quot;:1,&quot;showTags&quot;:true,&quot;removeTags&quot;:[],&quot;focusOnHover&quot;:false,&quot;enableRadial&quot;:false}"></div><button class="global-graph-icon" aria-label="Global Graph"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 55 55" fill="currentColor" xml:space="preserve"><path d="M49,0c-3.309,0-6,2.691-6,6c0,1.035,0.263,2.009,0.726,2.86l-9.829,9.829C32.542,17.634,30.846,17,29,17
                s-3.542,0.634-4.898,1.688l-7.669-7.669C16.785,10.424,17,9.74,17,9c0-2.206-1.794-4-4-4S9,6.794,9,9s1.794,4,4,4
                c0.74,0,1.424-0.215,2.019-0.567l7.669,7.669C21.634,21.458,21,23.154,21,25s0.634,3.542,1.688,4.897L10.024,42.562
                C8.958,41.595,7.549,41,6,41c-3.309,0-6,2.691-6,6s2.691,6,6,6s6-2.691,6-6c0-1.035-0.263-2.009-0.726-2.86l12.829-12.829
                c1.106,0.86,2.44,1.436,3.898,1.619v10.16c-2.833,0.478-5,2.942-5,5.91c0,3.309,2.691,6,6,6s6-2.691,6-6c0-2.967-2.167-5.431-5-5.91
                v-10.16c1.458-0.183,2.792-0.759,3.898-1.619l7.669,7.669C41.215,39.576,41,40.26,41,41c0,2.206,1.794,4,4,4s4-1.794,4-4
                s-1.794-4-4-4c-0.74,0-1.424,0.215-2.019,0.567l-7.669-7.669C36.366,28.542,37,26.846,37,25s-0.634-3.542-1.688-4.897l9.665-9.665
                C46.042,11.405,47.451,12,49,12c3.309,0,6-2.691,6-6S52.309,0,49,0z M11,9c0-1.103,0.897-2,2-2s2,0.897,2,2s-0.897,2-2,2
                S11,10.103,11,9z M6,51c-2.206,0-4-1.794-4-4s1.794-4,4-4s4,1.794,4,4S8.206,51,6,51z M33,49c0,2.206-1.794,4-4,4s-4-1.794-4-4
                s1.794-4,4-4S33,46.794,33,49z M29,31c-3.309,0-6-2.691-6-6s2.691-6,6-6s6,2.691,6,6S32.309,31,29,31z M47,41c0,1.103-0.897,2-2,2
                s-2-0.897-2-2s0.897-2,2-2S47,39.897,47,41z M49,10c-2.206,0-4-1.794-4-4s1.794-4,4-4s4,1.794,4,4S51.206,10,49,10z"></path></svg></button></div><div class="global-graph-outer"><div class="global-graph-container" data-cfg="{&quot;drag&quot;:true,&quot;zoom&quot;:true,&quot;depth&quot;:-1,&quot;scale&quot;:0.9,&quot;repelForce&quot;:0.5,&quot;centerForce&quot;:0.2,&quot;linkDistance&quot;:30,&quot;fontSize&quot;:0.6,&quot;opacityScale&quot;:1,&quot;showTags&quot;:true,&quot;removeTags&quot;:[],&quot;focusOnHover&quot;:true,&quot;enableRadial&quot;:true}"></div></div></div><div class="toc desktop-only"><button type="button" class="toc-header" aria-controls="toc-1" aria-expanded="true"><h3>目录</h3><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="fold"><polyline points="6 9 12 15 18 9"></polyline></svg></button><ul id="list-1" class="toc-content overflow"><li class="depth-0"><a href="#分析概要" data-for="分析概要">分析概要</a></li><li class="depth-0"><a href="#整理-description-文件" data-for="整理-description-文件">整理 description 文件</a></li><li class="depth-0"><a href="#预处理" data-for="预处理">预处理</a></li><li class="depth-1"><a href="#处理-garageyrblt-year-garage-was-built" data-for="处理-garageyrblt-year-garage-was-built">处理 GarageYrBlt: Year garage was built</a></li><li class="depth-1"><a href="#处理-electrical" data-for="处理-electrical">处理 Electrical</a></li><li class="depth-1"><a href="#处理-masvnrarea-masonry-veneer-area-in-square-feet" data-for="处理-masvnrarea-masonry-veneer-area-in-square-feet">处理 MasVnrArea: Masonry veneer area in square feet</a></li><li class="depth-1"><a href="#处理-masvnrtype" data-for="处理-masvnrtype">处理 MasVnrType</a></li><li class="depth-1"><a href="#处理其他缺失-feature" data-for="处理其他缺失-feature">处理其他缺失 feature</a></li><li class="depth-1"><a href="#填充测试集" data-for="填充测试集">填充测试集</a></li><li class="depth-1"><a href="#字符串类型-feature-重编码" data-for="字符串类型-feature-重编码">字符串类型 feature 重编码</a></li><li class="depth-2"><a href="#order-编码" data-for="order-编码">Order 编码</a></li><li class="depth-2"><a href="#one-hot-编码" data-for="one-hot-编码">One hot 编码</a></li><li class="depth-0"><a href="#模型预测" data-for="模型预测">模型预测</a></li><li class="overflow-end"></li></ul></div></div><footer class><p></p><ul><li><a href="https://github.com/Voidmort">GitHub</a></li></ul></footer></div></div></body><script type="application/javascript">function n(){let t=this.parentElement;t.classList.toggle("is-collapsed");let e=t.getElementsByClassName("callout-content")[0];if(!e)return;let l=t.classList.contains("is-collapsed");e.style.gridTemplateRows=l?"0fr":"1fr"}function c(){let t=document.getElementsByClassName("callout is-collapsible");for(let e of t){let l=e.getElementsByClassName("callout-title")[0],s=e.getElementsByClassName("callout-content")[0];if(!l||!s)continue;l.addEventListener("click",n),window.addCleanup(()=>l.removeEventListener("click",n));let o=e.classList.contains("is-collapsed");s.style.gridTemplateRows=o?"0fr":"1fr"}}document.addEventListener("nav",c);
</script><script type="module">function f(i,e){if(!i)return;function r(o){o.target===this&&(o.preventDefault(),o.stopPropagation(),e())}function t(o){o.key.startsWith("Esc")&&(o.preventDefault(),e())}i?.addEventListener("click",r),window.addCleanup(()=>i?.removeEventListener("click",r)),document.addEventListener("keydown",t),window.addCleanup(()=>document.removeEventListener("keydown",t))}function y(i){for(;i.firstChild;)i.removeChild(i.firstChild)}var h=class{constructor(e,r){this.container=e;this.content=r;this.setupEventListeners(),this.setupNavigationControls(),this.resetTransform()}isDragging=!1;startPan={x:0,y:0};currentPan={x:0,y:0};scale=1;MIN_SCALE=.5;MAX_SCALE=3;cleanups=[];setupEventListeners(){let e=this.onMouseDown.bind(this),r=this.onMouseMove.bind(this),t=this.onMouseUp.bind(this),o=this.resetTransform.bind(this);this.container.addEventListener("mousedown",e),document.addEventListener("mousemove",r),document.addEventListener("mouseup",t),window.addEventListener("resize",o),this.cleanups.push(()=>this.container.removeEventListener("mousedown",e),()=>document.removeEventListener("mousemove",r),()=>document.removeEventListener("mouseup",t),()=>window.removeEventListener("resize",o))}cleanup(){for(let e of this.cleanups)e()}setupNavigationControls(){let e=document.createElement("div");e.className="mermaid-controls";let r=this.createButton("+",()=>this.zoom(.1)),t=this.createButton("-",()=>this.zoom(-.1)),o=this.createButton("Reset",()=>this.resetTransform());e.appendChild(t),e.appendChild(o),e.appendChild(r),this.container.appendChild(e)}createButton(e,r){let t=document.createElement("button");return t.textContent=e,t.className="mermaid-control-button",t.addEventListener("click",r),window.addCleanup(()=>t.removeEventListener("click",r)),t}onMouseDown(e){e.button===0&&(this.isDragging=!0,this.startPan={x:e.clientX-this.currentPan.x,y:e.clientY-this.currentPan.y},this.container.style.cursor="grabbing")}onMouseMove(e){this.isDragging&&(e.preventDefault(),this.currentPan={x:e.clientX-this.startPan.x,y:e.clientY-this.startPan.y},this.updateTransform())}onMouseUp(){this.isDragging=!1,this.container.style.cursor="grab"}zoom(e){let r=Math.min(Math.max(this.scale+e,this.MIN_SCALE),this.MAX_SCALE),t=this.content.getBoundingClientRect(),o=t.width/2,n=t.height/2,c=r-this.scale;this.currentPan.x-=o*c,this.currentPan.y-=n*c,this.scale=r,this.updateTransform()}updateTransform(){this.content.style.transform=`translate(${this.currentPan.x}px, ${this.currentPan.y}px) scale(${this.scale})`}resetTransform(){this.scale=1;let e=this.content.querySelector("svg");this.currentPan={x:e.getBoundingClientRect().width/2,y:e.getBoundingClientRect().height/2},this.updateTransform()}},C=["--secondary","--tertiary","--gray","--light","--lightgray","--highlight","--dark","--darkgray","--codeFont"],E;document.addEventListener("nav",async()=>{let e=document.querySelector(".center").querySelectorAll("code.mermaid");if(e.length===0)return;E||=await import("https://cdnjs.cloudflare.com/ajax/libs/mermaid/11.4.0/mermaid.esm.min.mjs");let r=E.default,t=new WeakMap;for(let n of e)t.set(n,n.innerText);async function o(){for(let s of e){s.removeAttribute("data-processed");let a=t.get(s);a&&(s.innerHTML=a)}let n=C.reduce((s,a)=>(s[a]=window.getComputedStyle(document.documentElement).getPropertyValue(a),s),{}),c=document.documentElement.getAttribute("saved-theme")==="dark";r.initialize({startOnLoad:!1,securityLevel:"loose",theme:c?"dark":"base",themeVariables:{fontFamily:n["--codeFont"],primaryColor:n["--light"],primaryTextColor:n["--darkgray"],primaryBorderColor:n["--tertiary"],lineColor:n["--darkgray"],secondaryColor:n["--secondary"],tertiaryColor:n["--tertiary"],clusterBkg:n["--light"],edgeLabelBackground:n["--highlight"]}}),await r.run({nodes:e})}await o(),document.addEventListener("themechange",o),window.addCleanup(()=>document.removeEventListener("themechange",o));for(let n=0;n<e.length;n++){let v=function(){let g=l.querySelector("#mermaid-space"),m=l.querySelector(".mermaid-content");if(!m)return;y(m);let w=c.querySelector("svg").cloneNode(!0);m.appendChild(w),l.classList.add("active"),g.style.cursor="grab",u=new h(g,m)},M=function(){l.classList.remove("active"),u?.cleanup(),u=null},c=e[n],s=c.parentElement,a=s.querySelector(".clipboard-button"),d=s.querySelector(".expand-button"),p=window.getComputedStyle(a),L=a.offsetWidth+parseFloat(p.marginLeft||"0")+parseFloat(p.marginRight||"0");d.style.right=`calc(${L}px + 0.3rem)`,s.prepend(d);let l=s.querySelector("#mermaid-container");if(!l)return;let u=null;d.addEventListener("click",v),f(l,M),window.addCleanup(()=>{u?.cleanup(),d.removeEventListener("click",v)})}});
</script><script src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/contrib/copy-tex.min.js" type="application/javascript"></script><script type="application/javascript">
        const socket = new WebSocket('ws://localhost:3001')
        // reload(true) ensures resources like images and scripts are fetched again in firefox
        socket.addEventListener('message', () => document.location.reload(true))
      </script><script src="../postscript.js" type="module"></script></html>